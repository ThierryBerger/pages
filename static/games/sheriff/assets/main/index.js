System.register("chunks:///_virtual/BehaviorLibrary.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(r){var e,a,t,o,i,n;return{setters:[function(r){e=r.inheritsLoose,a=r.createForOfIteratorHelperLoose},function(r){t=r.cclegacy,o=r._decorator,i=r.Component},function(r){n=r.CardBehaviorBase}],execute:function(){var h;t._RF.push({},"e1f13J3wZdPj5pas+x//Gmi","BehaviorLibrary",void 0);var s=o.ccclass;r("BehaviorLibrary",s("BehaviorLibrary")(h=function(r){function t(){for(var e,a=arguments.length,t=new Array(a),o=0;o<a;o++)t[o]=arguments[o];return(e=r.call.apply(r,[this].concat(t))||this)._behaviors=new Map,e._drawTable=[],e._totalWeight=0,e}e(t,r);var o=t.prototype;return o.onLoad=function(){for(var r,e=a(this.node.children);!(r=e()).done;){var t=r.value.getComponent(n);t&&(this._behaviors.set(t.id(),t),this._drawTable.push({behavior:t,weight:t.weight}),this._totalWeight+=t.weight)}},o.getBehavior=function(r){var e=this._behaviors.get(r);if(!e)throw new Error('BehaviorLibrary: unknown behavior "'+r+'"');return e},o.pickRandomBehavior=function(){for(var r,e=Math.random()*this._totalWeight,t=a(this._drawTable);!(r=t()).done;){var o=r.value;if((e-=o.weight)<=0)return o.behavior}return this._drawTable[this._drawTable.length-1].behavior},t}(i))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/BoardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./Card.ts","./GameManager.ts"],(function(n){var a,e,r,t,i,o,s,c,p,l,d,u,f;return{setters:[function(n){a=n.applyDecoratedDescriptor,e=n.inheritsLoose,r=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){i=n.cclegacy,o=n._decorator,s=n.Prefab,c=n.instantiate,p=n.Component},function(n){l=n.CardState,d=n.GameConfig},function(n){u=n.Card},function(n){f=n.GameManager}],execute:function(){var h,g,m,v,b,w,_,C,y;i._RF.push({},"61eb3i3A8xPmLWMph0vqBPp","BoardManager",void 0);var M=o.ccclass,P=o.property;n("BoardManager",(h=M("BoardManager"),g=P(f),m=P({type:s,tooltip:"Card prefab (must have a Card component on root)"}),v=P({tooltip:"Seconds between flip waves"}),h((_=a((w=function(n){function a(){for(var a,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return a=n.call.apply(n,[this].concat(i))||this,r(a,"gameManager",_,t(a)),r(a,"cardPrefab",C,t(a)),r(a,"spawnInterval",y,t(a)),a._cards=[],a._spawnTimer=0,a._spawning=!1,a}e(a,n);var i=a.prototype;return i.onLoad=function(){this.buildGrid()},i.update=function(n){this._spawning&&(this._spawnTimer-=n,this._spawnTimer<=0&&(this._spawnTimer=this.spawnInterval,this.flipRandomCard()))},i.beginSpawning=function(){this._spawning=!0,this._spawnTimer=0},i.stopSpawning=function(){this._spawning=!1},i.buildGrid=function(){for(var n=0;n<9;n++){var a=c(this.cardPrefab);this.node.addChild(a);var e=a.getComponent(u);this._cards.push(e)}},i.flipRandomCard=function(){var n=this.pickHiddenCard();if(n){var a=this.gameManager.decideBehavior();n.reveal(a)}},i.forceReveal=function(n){var a=this.pickHiddenCard();a&&a.reveal(n)},i.pickHiddenCard=function(){var n=this._cards.filter((function(n){return n.cardState===l.Hidden}));return 0===n.length?null:n[Math.floor(Math.random()*n.length)]},a}(p)).prototype,"gameManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=a(w.prototype,"cardPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=a(w.prototype,"spawnInterval",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.SPAWN_INTERVAL}}),b=w))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts"],(function(t){var e,i,a,r,n,o,c,l,s,h,u,p,d,f,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,c=t._decorator,l=t.Color,s=t.Sprite,h=t.SpriteFrame,u=t.tween,p=t.Vec3,d=t.Component},function(t){f=t.CardState,_=t.GameConfig}],execute:function(){var v,b,y,S,m,H,C;o._RF.push({},"502b7lob4ZDWpq4eBJNRm7C","Card",void 0);var F=c.ccclass,w=c.property,g=new l(130,130,130,255);t("Card",(v=F("Card"),b=w(s),y=w({type:h,tooltip:"Card back art (hidden side). Leave empty for grey fallback."}),v((H=e((m=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(e,"face",H,r(e)),a(e,"backSprite",C,r(e)),e._cardState=f.Hidden,e._behavior=null,e._hitCount=0,e._autoHideTimer=0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.setHidden()},o.update=function(t){this._cardState===f.Revealed&&(this._autoHideTimer-=t,this._autoHideTimer<=0&&this.hide())},o.reveal=function(t){this._cardState===f.Hidden&&(this._behavior=t,this._hitCount=0,this._cardState=f.Flipping,this.playFlipIn())},o.hide=function(){this._cardState!==f.Hidden&&this._cardState!==f.Flipping&&(this._cardState=f.Flipping,this.playFlipOut())},o.onShot=function(){if(this._cardState!==f.Revealed||!this._behavior)return null;this._hitCount++;var t=this._behavior.processHit(this._hitCount);return t.killed?(this.playPunchScale(),this.hide()):(this.playIntermediateHit(),this._autoHideTimer=this._behavior.revealDuration),t},o.playFlipIn=function(){var t=this,e=_.FLIP_DURATION;u(this.node).to(e,{scale:new p(0,1,1)}).call((function(){t.applyFront()})).to(e,{scale:new p(1,1,1)}).call((function(){t._cardState=f.Revealed,t._autoHideTimer=t._behavior.revealDuration})).start()},o.playFlipOut=function(){var t=this,e=_.FLIP_DURATION;u(this.node).to(e,{scale:new p(0,1,1)}).call((function(){t.applyBack()})).to(e,{scale:new p(1,1,1)}).call((function(){t._cardState=f.Hidden,t._behavior=null})).start()},o.playPunchScale=function(){u(this.node).to(.05,{scale:new p(1.15,1.15,1)}).to(.1,{scale:new p(1,1,1)}).start()},o.playIntermediateHit=function(){u(this.node).to(.03,{scale:new p(1.08,1.08,1)}).to(.06,{scale:new p(1,1,1)}).start()},o.setHidden=function(){this._cardState=f.Hidden,this._behavior=null,this.applyBack(),this.node.setScale(new p(1,1,1))},o.applyFront=function(){this._behavior&&(this._behavior.frontSprite&&(this.face.spriteFrame=this._behavior.frontSprite),this.face.color=this._behavior.placeholderColor)},o.applyBack=function(){this.backSprite?(this.face.spriteFrame=this.backSprite,this.face.color=l.WHITE):this.face.color=g},n(e,[{key:"cardState",get:function(){return this._cardState}},{key:"behavior",get:function(){return this._behavior}}]),e}(d)).prototype,"face",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(m.prototype,"backSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=m))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/CardBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,o,n,a,l,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.SpriteFrame,c=e.Component,u=e.Color}],execute:function(){var p,s,f,h,d,b,y,g,w,v,m,C,z,B,D;n._RF.push({},"a4885CxODlEJZsZ6f8r+Scj","CardBehavior",void 0);var k=a.ccclass,S=a.property;e("CardBehaviorBase",(p=k("CardBehaviorBase"),s=S({tooltip:"How many hits to kill this card"}),f=S({tooltip:"Seconds the card stays revealed before auto-hiding"}),h=S({tooltip:"Points awarded when this card is killed"}),d=S({tooltip:"Draw weight — higher = more likely to appear"}),b=S({tooltip:"Fallback tint when no front sprite is assigned"}),y=S({type:l,tooltip:"Front face art (revealed side). Leave empty for color fallback."}),p((v=r((w=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"hitsRequired",v,o(r)),i(r,"revealDuration",m,o(r)),i(r,"score",C,o(r)),i(r,"weight",z,o(r)),i(r,"placeholderColor",B,o(r)),i(r,"frontSprite",D,o(r)),r}return t(r,e),r.prototype.id=function(){return this.node.name},r}(c)).prototype,"hitsRequired",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=r(w.prototype,"revealDuration",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),C=r(w.prototype,"score",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=r(w.prototype,"weight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),B=r(w.prototype,"placeholderColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(200,200,200,255)}}),D=r(w.prototype,"frontSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=w))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/CoinDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EconomyManager.ts","./UIAnimations.ts"],(function(n){var i,e,t,a,o,s,r,l,c,u,h;return{setters:[function(n){i=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){o=n.cclegacy,s=n._decorator,r=n.Label,l=n.Component},function(n){c=n.EconomyManager,u=n.EconomyEvent},function(n){h=n.UIAnimations}],execute:function(){var p,d,y,g,b,C,f;o._RF.push({},"ab501BcQ1BCQasvchCBQ4U0","CoinDisplay",void 0);var m=s.ccclass,v=s.property;n("CoinDisplay",(p=m("CoinDisplay"),d=v(r),y=v({tooltip:"Punch-scale the node on coin gain"}),p((C=i((b=function(n){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=n.call.apply(n,[this].concat(o))||this,t(i,"coinLabel",C,a(i)),t(i,"animateOnChange",f,a(i)),i._displayedValue=0,i}e(i,n);var o=i.prototype;return o.onEnable=function(){var n=c.instance;n&&(this._displayedValue=n.getCoins(),this.coinLabel.string=String(this._displayedValue),n.events.on(u.COINS_CHANGED,this.onCoinsChanged,this))},o.onDisable=function(){var n;null==(n=c.instance)||n.events.off(u.COINS_CHANGED,this.onCoinsChanged,this)},o.playReject=function(){h.shakeNode(this.node),h.colorFlash(this.coinLabel)},o.onCoinsChanged=function(n){var i=this._displayedValue;this._displayedValue=n,this.animateOnChange?n>i?(h.animateNumber(this.coinLabel,i,n,.4),h.punchScale(this.node)):n<i?(h.animateNumber(this.coinLabel,i,n,.3),h.shakeNode(this.node)):this.coinLabel.string=String(n):this.coinLabel.string=String(n)},i}(l)).prototype,"coinLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=i(b.prototype,"animateOnChange",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=b))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/CrosshairController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Card.ts","./GameManager.ts","./FeedbackManager.ts","./GameTypes.ts"],(function(e){var o,t,n,r,i,a,s,c,l,u,h,f,p,d,M,g,v,y,b,m;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,c=e.Camera,l=e.Node,u=e.Vec3,h=e.sys,f=e.Input,p=e.log,d=e.UITransform,M=e.tween,g=e.Component},function(e){v=e.Card},function(e){y=e.GameManager},function(e){b=e.FeedbackManager},function(e){m=e.GameState}],execute:function(){var S,C,T,_,w,D,E,P,z,L,O,U,A;a._RF.push({},"b76f9AEgwpNbJXy0CXcGBCm","CrosshairController",void 0);var W=s.ccclass,I=s.property;e("CrosshairController",(S=W("CrosshairController"),C=I(c),T=I(y),_=I(l),w=I(b),D=I(l),S((z=o((P=function(e){function o(){for(var o,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=e.call.apply(e,[this].concat(i))||this,n(o,"uiCamera",z,r(o)),n(o,"gameManager",L,r(o)),n(o,"boardNode",O,r(o)),n(o,"feedbackManager",U,r(o)),n(o,"crosshairVisual",A,r(o)),o._hasMouse=!1,o._lastScreenPos=new u,o._screenPosDirty=!1,o}t(o,e);var a=o.prototype;return a.onLoad=function(){this._hasMouse=!h.isMobile,this._hasMouse||(this.crosshairVisual.active=!1)},a.onEnable=function(){this._hasMouse?(this.node.on(f.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(f.EventType.MOUSE_DOWN,this.onMouseDown,this)):this.node.on(f.EventType.TOUCH_START,this.onTouchStart,this)},a.onDisable=function(){this._hasMouse?(this.node.off(f.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.off(f.EventType.MOUSE_DOWN,this.onMouseDown,this)):this.node.off(f.EventType.TOUCH_START,this.onTouchStart,this)},a.update=function(){this._screenPosDirty&&(this._screenPosDirty=!1,this.moveCrosshairToScreen(this._lastScreenPos.x,this._lastScreenPos.y))},a.onMouseMove=function(e){this._lastScreenPos.set(e.getLocationX(),e.getLocationY(),0),this._screenPosDirty=!0,p("mouse move",this._lastScreenPos)},a.onMouseDown=function(e){p("onMouseDown",e.getLocation()),this.shootAtScreen(e.getLocationX(),e.getLocationY())},a.onTouchStart=function(e){p("touch start",e.getLocation());var o=e.getLocation();this.shootAtScreen(o.x,o.y)},a.moveCrosshairToScreen=function(e,o){var t=this.screenToUIWorld(e,o);t?this.crosshairVisual.setWorldPosition(t):p("no screenToUIWorld result for",e,o)},a.shootAtScreen=function(e,o){if(this.gameManager.state===m.Playing){this.playShotAnimation();var t=this.screenToUIWorld(e,o);if(t){for(var n,r=i(this.boardNode.children);!(n=r()).done;){var a=n.value,s=a.getComponent(v);if(s){var c=a.getComponent(d);if(c){var l=c.convertToNodeSpaceAR(t),u=c.contentSize;if(Math.abs(l.x)<=u.width/2&&Math.abs(l.y)<=u.height/2){var h,f=null==(h=s.behavior)?void 0:h.placeholderColor,p=s.onShot();if(this.feedbackManager.playMuzzleFlash(t),null!==p&&f){var M=a.getWorldPosition();this.gameManager.handleCardShot(p,f,M)}return}}}}this.feedbackManager.playMuzzleFlash(t)}}},a.screenToUIWorld=function(e,o){if(!this.uiCamera)return null;var t=new u;return this.uiCamera.screenToWorld(new u(e,o,0),t),t},a.playShotAnimation=function(){this._hasMouse&&M(this.crosshairVisual).to(.04,{scale:new u(.8,.8,1)}).to(.08,{scale:new u(1,1,1)}).start()},o}(g)).prototype,"uiCamera",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=o(P.prototype,"gameManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=o(P.prototype,"boardNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(P.prototype,"feedbackManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=o(P.prototype,"crosshairVisual",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=P))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/EconomyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./SaveData.ts","./StoreManager.ts","./FakeStoreProvider.ts"],(function(t){var n,e,i,a,s,o,r,c,l,u,h,f,_,y;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator,r=t.EventTarget,c=t.director,l=t.sys,u=t.Component},function(t){h=t.EconomyConfig},function(t){f=t.DEFAULT_SAVE},function(t){_=t.StoreManager},function(t){y=t.FakeStoreProvider}],execute:function(){var D,d;s._RF.push({},"a5b88Ys1u9DEZK002o1ufIm","EconomyManager",void 0);var m=o.ccclass,v=t("EconomyEvent",{COINS_CHANGED:"coins-changed",DAILY_CLAIMED:"daily-claimed"});t("EconomyManager",m("EconomyManager")(((d=function(t){function s(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).events=new r,n._coins=0,n._lastDailyClaimDate="",n.store=new _(new y),n}n(s,t);var o=s.prototype;return o.onLoad=function(){s._instance&&s._instance!==this?this.node.destroy():(s._instance=this,c.addPersistRootNode(this.node),this.load())},o.onDestroy=function(){s._instance===this&&(s._instance=null)},o.getCoins=function(){return this._coins},o.canAfford=function(t){return this._coins>=t},o.addCoins=function(t){this._coins+=t,this.save(),this.events.emit(v.COINS_CHANGED,this._coins)},o.spendCoins=function(t){return!!this.canAfford(t)&&(this._coins-=t,this.save(),this.events.emit(v.COINS_CHANGED,this._coins),!0)},o.canClaimDailyReward=function(){return this._lastDailyClaimDate!==this.todayISO()},o.claimDailyReward=function(){if(!this.canClaimDailyReward())return 0;var t=Math.max(0,h.DAILY_MINIMUM-this._coins);return this._lastDailyClaimDate=this.todayISO(),t>0&&(this._coins+=t,this.events.emit(v.COINS_CHANGED,this._coins)),this.save(),this.events.emit(v.DAILY_CLAIMED,t),t},o.convertScoreToCoins=function(t){return Math.floor(t*h.SCORE_TO_COINS_RATE)},o.purchaseProduct=function(){var t=i(a().mark((function t(n){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.store.purchase(n);case 2:return(e=t.sent).success&&this.addCoins(e.coins),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),o.load=function(){try{var t=l.localStorage.getItem(h.SAVE_KEY);if(!t)return void this.applyDefaults();var n=JSON.parse(t);if(n.version!==h.SAVE_VERSION)return void this.applyDefaults();this._coins="number"==typeof n.coins?n.coins:f.coins,this._lastDailyClaimDate="string"==typeof n.lastDailyClaimDate?n.lastDailyClaimDate:f.lastDailyClaimDate}catch(t){this.applyDefaults()}},o.save=function(){var t={version:h.SAVE_VERSION,coins:this._coins,lastDailyClaimDate:this._lastDailyClaimDate};l.localStorage.setItem(h.SAVE_KEY,JSON.stringify(t))},o.applyDefaults=function(){this._coins=f.coins,this._lastDailyClaimDate=f.lastDailyClaimDate,this.save()},o.todayISO=function(){var t=new Date;return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")},e(s,null,[{key:"instance",get:function(){return s._instance}}]),s}(u))._instance=null,D=d))||D);s._RF.pop()}}}));

System.register("chunks:///_virtual/FakeStoreProvider.ts",["cc","./GameTypes.ts"],(function(n){var i,o;return{setters:[function(n){i=n.cclegacy},function(n){o=n.EconomyConfig}],execute:function(){i._RF.push({},"e554e+bynZNdIZcVlymfI8h","FakeStoreProvider",void 0);var r=[{id:"coins_100",display_string:"100 Coins",coins:100},{id:"coins_500",display_string:"500 Coins",coins:500},{id:"coins_1500",display_string:"1500 Coins",coins:1500}];n("FakeStoreProvider",function(){function n(){}var i=n.prototype;return i.getProducts=function(){return r},i.purchase=function(n){return new Promise((function(i){var e=1e3*o.STORE_FAKE_DELAY;setTimeout((function(){var o=r.find((function(i){return i.id===n}));i(o?{success:!0,coins:o.coins}:{success:!1,error:"Unknown product: "+n})}),e)}))},n}());i._RF.pop()}}}));

System.register("chunks:///_virtual/FeedbackManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./SpriteEffect.ts"],(function(e){var t,i,o,r,a,n,s,l,u,h,p,c,f,b,z,P,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e._decorator,l=e.Prefab,u=e.Vec3,h=e.Sprite,p=e.Label,c=e.Tween,f=e.tween,b=e.instantiate,z=e.Component},function(e){P=e.GameConfig},function(e){g=e.SpriteEffect}],execute:function(){var d,v,y,m,S,k,_,F,w,B,R,A,O,M,E,T,C;n._RF.push({},"9b245tFN3VAdYZt+q+OYTmI","FeedbackManager",void 0);var H=s.ccclass,I=s.property;e("FeedbackManager",(d=H("FeedbackManager"),v=I({type:l,tooltip:"Hit burst prefab (needs SpriteEffect + Sprite)"}),y=I({type:l,tooltip:"Score pop prefab (needs SpriteEffect + Label)"}),m=I({type:l,tooltip:"Muzzle flash prefab (needs SpriteEffect + Sprite)"}),S=I({tooltip:"Node to shake on game-over (usually the Canvas)"}),k=I({tooltip:"Pool size for hit bursts"}),_=I({tooltip:"Pool size for score pops"}),F=I({tooltip:"Pool size for muzzle flashes"}),d((R=t((B=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,o(t,"hitBurstPrefab",R,r(t)),o(t,"scorePopPrefab",A,r(t)),o(t,"muzzleFlashPrefab",O,r(t)),o(t,"shakeRoot",M,r(t)),o(t,"hitBurstPoolSize",E,r(t)),o(t,"scorePopPoolSize",T,r(t)),o(t,"muzzleFlashPoolSize",C,r(t)),t._hitBursts=[],t._scorePops=[],t._muzzleFlashes=[],t._shakeOrigin=new u,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this._hitBursts=this.buildPool(this.hitBurstPrefab,this.hitBurstPoolSize),this._scorePops=this.buildPool(this.scorePopPrefab,this.scorePopPoolSize),this._muzzleFlashes=this.buildPool(this.muzzleFlashPrefab,this.muzzleFlashPoolSize),this.shakeRoot&&this._shakeOrigin.set(this.shakeRoot.position)},n.playHitBurst=function(e,t){var i=this.getAvailable(this._hitBursts);if(i){var o=i.node.getComponent(h);o&&(o.color=t),i.play(e)}},n.playScorePop=function(e,t){var i=this.getAvailable(this._scorePops);if(i){var o=i.node.getComponent(p);o&&(o.string="+"+t),i.play(e)}},n.playScreenShake=function(){if(this.shakeRoot){var e=P.SHAKE_INTENSITY,t=P.SHAKE_DURATION/6;c.stopAllByTarget(this.shakeRoot),this.shakeRoot.setPosition(this._shakeOrigin);for(var i=f(this.shakeRoot),o=0;o<6;o++){var r=2*(Math.random()-.5)*e,a=2*(Math.random()-.5)*e;i=i.to(t,{position:new u(this._shakeOrigin.x+r,this._shakeOrigin.y+a,this._shakeOrigin.z)})}i.to(t,{position:new u(this._shakeOrigin)}).start()}},n.playMuzzleFlash=function(e){var t=this.getAvailable(this._muzzleFlashes);t&&t.play(e)},n.buildPool=function(e,t){if(!e)return[];for(var i=[],o=0;o<t;o++){var r=b(e);this.node.addChild(r);var a=r.getComponent(g);r.active=!1,i.push(a)}return i},n.getAvailable=function(e){for(var t,i=a(e);!(t=i()).done;){var o=t.value;if(!o.node.active)return o}return null},t}(z)).prototype,"hitBurstPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(B.prototype,"scorePopPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(B.prototype,"muzzleFlashPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(B.prototype,"shakeRoot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(B.prototype,"hitBurstPoolSize",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),T=t(B.prototype,"scorePopPoolSize",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),C=t(B.prototype,"muzzleFlashPoolSize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),w=B))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./FeedbackManager.ts","./BehaviorLibrary.ts","./UIGameOver.ts"],(function(e){var i,r,t,a,n,o,s,c,h,l,u,b,f,g,d,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose,o=e.createClass},function(e){s=e.cclegacy,c=e._decorator,h=e.Label,l=e.Node,u=e.Component},function(e){b=e.GameState,f=e.GameConfig},function(e){g=e.FeedbackManager},function(e){d=e.BehaviorLibrary},function(e){m=e.UIGameOver}],execute:function(){var p,y,_,v,L,M,S,G,w,R,k,O,N,z,B;s._RF.push({},"c6697gXHAFK0IJn5MztWhej","GameManager",void 0);var I=c.ccclass,P=c.property;e("GameManager",(p=I("GameManager"),y=P(h),_=P(h),v=P(l),L=P(g),M=P({type:l,tooltip:"Node with BehaviorLibrary component"}),S=P(m),p((R=i((w=function(e){function i(){for(var i,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return i=e.call.apply(e,[this].concat(n))||this,t(i,"scoreLabel",R,a(i)),t(i,"timerLabel",k,a(i)),t(i,"boardNode",O,a(i)),t(i,"feedbackManager",N,a(i)),t(i,"behaviorLibraryNode",z,a(i)),t(i,"uiGameOver",B,a(i)),i._state=b.Idle,i._score=0,i._timeRemaining=f.GAME_DURATION,i._boardManager=void 0,i._behaviorLibrary=void 0,i}r(i,e);var s=i.prototype;return s.onLoad=function(){this._boardManager=this.boardNode.getComponent("BoardManager"),this._behaviorLibrary=this.behaviorLibraryNode.getComponent(d)},s.start=function(){this.startGame()},s.update=function(e){this._state===b.Playing&&(this._timeRemaining-=e,this._timeRemaining<=0&&(this._timeRemaining=0,this.onWin()),this.refreshTimerLabel())},s.startGame=function(){this._state=b.Playing,this._score=0,this._timeRemaining=f.GAME_DURATION,this.refreshScoreLabel(),this.refreshTimerLabel(),this._boardManager.beginSpawning()},s.addScore=function(e,i){this._state===b.Playing&&(this._score+=e,this.refreshScoreLabel(),this.feedbackManager.playScorePop(i,e))},s.onSheriffShot=function(){this._state===b.Playing&&(this._state=b.GameOver,this.feedbackManager.playScreenShake(),this.endSession("GAME OVER"))},s.decideBehavior=function(){return this._behaviorLibrary.pickRandomBehavior()},s.handleCardShot=function(e,i,r){if(this._state===b.Playing){if(0!==e.score&&this.addScore(e.score,r),this.feedbackManager.playHitBurst(r,i),e.spawns)for(var t,a=n(e.spawns);!(t=a()).done;){var o=t.value,s=this._behaviorLibrary.getBehavior(o);this._boardManager.forceReveal(s)}e.gameOver&&this.onSheriffShot()}},s.onWin=function(){this._state===b.Playing&&(this._state=b.Win,this.endSession("YOU WIN!"))},s.endSession=function(e){this._boardManager.stopSpawning(),this.uiGameOver.show(e,this._score)},s.refreshScoreLabel=function(){this.scoreLabel.string="Score: "+this._score},s.refreshTimerLabel=function(){this.timerLabel.string=""+Math.ceil(this._timeRemaining)},o(i,[{key:"state",get:function(){return this._state}},{key:"score",get:function(){return this._score}}]),i}(u)).prototype,"scoreLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(w.prototype,"timerLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(w.prototype,"boardNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(w.prototype,"feedbackManager",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(w.prototype,"behaviorLibraryNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(w.prototype,"uiGameOver",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=w))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameTypes.ts",["cc"],(function(_){var e;return{setters:[function(_){e=_.cclegacy}],execute:function(){e._RF.push({},"880043813hLNrHYGST6pgzJ","GameTypes",void 0);_("GameState",function(_){return _.Idle="Idle",_.Playing="Playing",_.GameOver="GameOver",_.Win="Win",_}({})),_("CardState",function(_){return _.Hidden="Hidden",_.Flipping="Flipping",_.Revealed="Revealed",_}({})),_("GameConfig",{GAME_DURATION:30,GRID_COLS:3,GRID_ROWS:3,SPAWN_INTERVAL:.8,FLIP_DURATION:.15,HIT_BURST_DURATION:.3,SCORE_POP_DURATION:.6,SCORE_POP_RISE:80,SHAKE_DURATION:.3,SHAKE_INTENSITY:8,MUZZLE_FLASH_DURATION:.12}),_("EconomyConfig",{PLAY_COST:60,DAILY_MINIMUM:60,SCORE_TO_COINS_RATE:1.5,SAVE_KEY:"dss_save_v1",SAVE_VERSION:1,COIN_COUNT_DURATION:1.2,COIN_PUNCH_SCALE:1.35,COIN_PUNCH_DURATION:.18,COIN_SHAKE_DURATION:.15,COIN_SHAKE_INTENSITY:6,STORE_FAKE_DELAY:1});e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./GameTypes.ts","./EconomyManager.ts","./FakeStoreProvider.ts","./SaveData.ts","./StoreManager.ts","./BoardManager.ts","./Card.ts","./CrosshairController.ts","./FeedbackManager.ts","./GameManager.ts","./SpriteEffect.ts","./BehaviorLibrary.ts","./CardBehavior.ts","./OutlawBehavior.ts","./SheriffBehavior.ts","./SpawnBanditBehavior.ts","./ToughBanditBehavior.ts","./MainMenu.ts","./CoinDisplay.ts","./StorePanelController.ts","./UIAnimations.ts","./UIGameOver.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./EconomyManager.ts","./UIAnimations.ts","./StorePanelController.ts","./CoinDisplay.ts"],(function(t){var n,e,i,a,o,l,r,s,u,c,f,p,y,h,b,d,B;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,r=t.Button,s=t.Label,u=t.Node,c=t.director,f=t.Component},function(t){p=t.EconomyConfig},function(t){y=t.EconomyManager,h=t.EconomyEvent},function(t){b=t.UIAnimations},function(t){d=t.StorePanelController},function(t){B=t.CoinDisplay}],execute:function(){var C,v,m,w,I,L,g,D,_,O,P,R,S,M,k,z,A,U,E;o._RF.push({},"0b063WVL1NKnKPp23UoMYH2","MainMenu",void 0);var G=l.ccclass,N=l.property;t("MainMenu",(C=G("MainMenu"),v=N(r),m=N({type:s,tooltip:"Label on the play button — shows cost"}),w=N(r),I=N(r),L=N(d),g=N({type:u,tooltip:'Label node for "Insufficient coins" toast — floats up and fades'}),D=N(B),_=N({type:u,tooltip:"Full-screen overlay for scene transition fade"}),C((R=n((P=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return n=t.call.apply(t,[this].concat(o))||this,i(n,"playButton",R,a(n)),i(n,"playButtonLabel",S,a(n)),i(n,"dailyRewardButton",M,a(n)),i(n,"buyCoinsButton",k,a(n)),i(n,"storePanel",z,a(n)),i(n,"insufficientCoinsLabel",A,a(n)),i(n,"coinDisplay",U,a(n)),i(n,"transitionOverlay",E,a(n)),n._inputBlocked=!1,n}e(n,t);var o=n.prototype;return o.start=function(){this.insufficientCoinsLabel.active=!1,this.transitionOverlay&&(this.transitionOverlay.active=!1)},o.onEnable=function(){var t;null==(t=y.instance)||t.events.on(h.COINS_CHANGED,this.refreshUI,this),this.refreshUI()},o.onDisable=function(){var t;null==(t=y.instance)||t.events.off(h.COINS_CHANGED,this.refreshUI,this)},o.onPlayClicked=function(){var t=this;if(!this._inputBlocked){var n=y.instance;n?n.canAfford(p.PLAY_COST)?(this._inputBlocked=!0,this.setButtonsInteractable(!1),n.spendCoins(p.PLAY_COST),this.scheduleOnce((function(){t.transitionOverlay?(b.fadeIn(t.transitionOverlay,.3),t.scheduleOnce((function(){c.loadScene("Game")}),.3)):c.loadScene("Game")}),.5)):this.playInsufficientSequence():c.loadScene("Game")}},o.onDailyRewardClicked=function(){if(!this._inputBlocked){var t=y.instance;t&&t.canClaimDailyReward()&&(t.claimDailyReward(),this.refreshUI())}},o.onBuyCoinsClicked=function(){this._inputBlocked||this.storePanel.show()},o.playInsufficientSequence=function(){var t=this;this._inputBlocked=!0,this.setButtonsInteractable(!1),this.insufficientCoinsLabel&&b.floatUpAndFade(this.insufficientCoinsLabel,60,.8),this.coinDisplay&&this.coinDisplay.playReject(),this.storePanel.show(),this.scheduleOnce((function(){t._inputBlocked=!1,t.setButtonsInteractable(!0)}),.6)},o.refreshUI=function(){var t=y.instance;t&&(this.playButtonLabel&&(this.playButtonLabel.string="Play ("+p.PLAY_COST+")"),this.dailyRewardButton&&(this.dailyRewardButton.node.active=t.canClaimDailyReward()))},o.setButtonsInteractable=function(t){this.playButton&&(this.playButton.interactable=t),this.dailyRewardButton&&(this.dailyRewardButton.interactable=t),this.buyCoinsButton&&(this.buyCoinsButton.interactable=t)},n}(f)).prototype,"playButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(P.prototype,"playButtonLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(P.prototype,"dailyRewardButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(P.prototype,"buyCoinsButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(P.prototype,"storePanel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(P.prototype,"insufficientCoinsLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(P.prototype,"coinDisplay",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(P.prototype,"transitionOverlay",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=P))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/OutlawBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var r,i,t,o,n,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Color},function(e){u=e.CardBehaviorBase}],execute:function(){var c,s,p,h,f,v,d,b,w,y,g,m,B;n._RF.push({},"d3b791PmwhPQJ87cWJr51JC","OutlawBehavior",void 0);var z=a.ccclass,C=a.property;e("OutlawBehavior",(c=z("OutlawBehavior"),s=C({override:!0}),p=C({override:!0}),h=C({override:!0}),f=C({override:!0}),v=C({override:!0}),c((w=r((b=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,t(r,"hitsRequired",w,o(r)),t(r,"revealDuration",y,o(r)),t(r,"score",g,o(r)),t(r,"weight",m,o(r)),t(r,"placeholderColor",B,o(r)),r}return i(r,e),r.prototype.processHit=function(e){return{killed:!0,score:this.score,gameOver:!1}},r}(u)).prototype,"hitsRequired",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=r(b.prototype,"revealDuration",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),g=r(b.prototype,"score",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=r(b.prototype,"weight",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 55}}),B=r(b.prototype,"placeholderColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(200,50,50,255)}}),d=b))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/SaveData.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"21c1bT14S5DXZtrzYOCdQ9Q","SaveData",void 0);t("DEFAULT_SAVE",{version:1,coins:0,lastDailyClaimDate:""});e._RF.pop()}}}));

System.register("chunks:///_virtual/SheriffBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var r,i,t,o,n,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Color},function(e){u=e.CardBehaviorBase}],execute:function(){var c,s,f,p,h,v,b,d,y,g,w,B,m;n._RF.push({},"a313aBL7u5GWYNm2zqb7OuQ","SheriffBehavior",void 0);var z=a.ccclass,C=a.property;e("SheriffBehavior",(c=z("SheriffBehavior"),s=C({override:!0}),f=C({override:!0}),p=C({override:!0}),h=C({override:!0}),v=C({override:!0}),c((y=r((d=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,t(r,"hitsRequired",y,o(r)),t(r,"revealDuration",g,o(r)),t(r,"score",w,o(r)),t(r,"weight",B,o(r)),t(r,"placeholderColor",m,o(r)),r}return i(r,e),r.prototype.processHit=function(e){return{killed:!0,score:this.score,gameOver:!0}},r}(u)).prototype,"hitsRequired",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=r(d.prototype,"revealDuration",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),w=r(d.prototype,"score",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=r(d.prototype,"weight",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),m=r(d.prototype,"placeholderColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(50,100,220,255)}}),b=d))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpawnBanditBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var r,i,t,n,o,a,l,u,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.CCString,u=e.Color},function(e){c=e.CardBehaviorBase}],execute:function(){var s,p,f,h,d,v,w,b,y,g,B,z,m,C,D;o._RF.push({},"5535340dsRGGqh2IeHt+tzd","SpawnBanditBehavior",void 0);var S=a.ccclass,R=a.property;e("SpawnBanditBehavior",(s=S("SpawnBanditBehavior"),p=R({override:!0}),f=R({override:!0}),h=R({override:!0}),d=R({override:!0}),v=R({override:!0}),w=R({type:[l],tooltip:"Behavior IDs to spawn on kill"}),s((g=r((y=function(e){function r(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,t(r,"hitsRequired",g,n(r)),t(r,"revealDuration",B,n(r)),t(r,"score",z,n(r)),t(r,"weight",m,n(r)),t(r,"placeholderColor",C,n(r)),t(r,"spawns",D,n(r)),r}return i(r,e),r.prototype.processHit=function(e){return{killed:!0,score:this.score,gameOver:!1,spawns:this.spawns}},r}(c)).prototype,"hitsRequired",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),B=r(y.prototype,"revealDuration",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),z=r(y.prototype,"score",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=r(y.prototype,"weight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),C=r(y.prototype,"placeholderColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(220,120,30,255)}}),D=r(y.prototype,"spawns",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["outlaw","sheriff"]}}),b=y))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,n,r,a,s,l,c,p,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Vec3,l=t.UIOpacity,c=t.Tween,p=t.tween,u=t.Component}],execute:function(){var h,d,f,y,m,g,v,b,_,w,T;r._RF.push({},"b8dcdgldUpAdZ4gciZFTYDr","SpriteEffect",void 0);var F=a.ccclass,z=a.property;t("SpriteEffect",(h=F("SpriteEffect"),d=z({tooltip:"Total effect duration (seconds)"}),f=z({tooltip:"Start scale multiplier"}),y=z({tooltip:"End scale multiplier"}),m=z({tooltip:"Pixels to float upward (0 = no movement)"}),h((b=i((v=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,o(i,"duration",b,n(i)),o(i,"scaleFrom",_,n(i)),o(i,"scaleTo",w,n(i)),o(i,"riseY",T,n(i)),i.onFinished=null,i._opacity=null,i._originPos=new s,i}e(i,t);var r=i.prototype;return r.onLoad=function(){var t;this._opacity=null!=(t=this.getComponent(l))?t:this.node.addComponent(l),this.node.active=!1},r.play=function(t){var i=this;if(c.stopAllByTarget(this.node),this._opacity&&c.stopAllByTarget(this._opacity),this.node.setWorldPosition(t),this._originPos.set(t),this.node.setScale(new s(this.scaleFrom,this.scaleFrom,1)),this._opacity&&(this._opacity.opacity=255),this.node.active=!0,p(this.node).to(this.duration,{scale:new s(this.scaleTo,this.scaleTo,1)}).start(),this.riseY>0){var e=new s(t.x,t.y+this.riseY,t.z);p(this.node).to(this.duration,{worldPosition:e}).start()}this._opacity&&p(this._opacity).to(this.duration,{opacity:0}).call((function(){return i.finish()})).start()},r.finish=function(){var t;this.node.active=!1,null==(t=this.onFinished)||t.call(this)},i}(u)).prototype,"duration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),_=i(v.prototype,"scaleFrom",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),w=i(v.prototype,"scaleTo",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),T=i(v.prototype,"riseY",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/StoreManager.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"324ddzC3zRImoRUw6zkixzg","StoreManager",void 0);r("StoreManager",function(){function r(r){this._provider=void 0,this._provider=r}var t=r.prototype;return t.getProducts=function(){return this._provider.getProducts()},t.purchase=function(r){return this._provider.purchase(r)},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/StorePanelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EconomyManager.ts","./UIAnimations.ts"],(function(t){var e,n,o,r,i,a,l,s,c,u,p,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,l=t._decorator,s=t.Button,c=t.Label,u=t.Node,p=t.Component},function(t){d=t.EconomyManager},function(t){h=t.UIAnimations}],execute:function(){var f,g,v,y,b,I,P,m,O,B,R;a._RF.push({},"d7333k5r2NPaY494cV3FRne","StorePanelController",void 0);var _=l.ccclass,C=l.property;t("StorePanelController",(f=_("StorePanelController"),g=C([s]),v=C([c]),y=C(u),b=C(u),f((m=e((P=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"productButtons",m,r(e)),o(e,"productLabels",O,r(e)),o(e,"loadingOverlay",B,r(e)),o(e,"panelRoot",R,r(e)),e._productIds=[],e}n(e,t);var a=e.prototype;return a.start=function(){var t=d.instance;if(t){for(var e=t.store.getProducts(),n=0;n<e.length&&n<this.productButtons.length;n++)this._productIds[n]=e[n].id,this.productLabels[n]&&(this.productLabels[n].string=e[n].display_string);this.loadingOverlay&&(this.loadingOverlay.active=!1),this.panelRoot&&(this.panelRoot.active=!1)}},a.show=function(){h.fadeIn(this.panelRoot)},a.hide=function(){h.fadeOut(this.panelRoot)},a.onProductClicked=function(t,e){var n=this,o=parseInt(e,10),r=d.instance;!r||isNaN(o)||o>=this._productIds.length||(this.setButtonsInteractable(!1),this.loadingOverlay&&(this.loadingOverlay.active=!0),r.purchaseProduct(this._productIds[o]).then((function(t){n.loadingOverlay&&(n.loadingOverlay.active=!1),n.setButtonsInteractable(!0),t.success||console.warn("Purchase failed:",t.error)})))},a.onCloseClicked=function(){this.hide()},a.setButtonsInteractable=function(t){for(var e,n=i(this.productButtons);!(e=n()).done;){e.value.interactable=t}},e}(p)).prototype,"productButtons",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(P.prototype,"productLabels",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(P.prototype,"loadingOverlay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(P.prototype,"panelRoot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=P))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/ToughBanditBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var r,i,t,o,n,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Color},function(e){u=e.CardBehaviorBase}],execute:function(){var c,s,p,h,d,v,f,g,b,y,B,w,m;n._RF.push({},"0a7c4VUgktCQoHYIvkHU8SI","ToughBanditBehavior",void 0);var z=a.ccclass,C=a.property;e("ToughBanditBehavior",(c=z("ToughBanditBehavior"),s=C({override:!0}),p=C({override:!0}),h=C({override:!0}),d=C({override:!0}),v=C({override:!0}),c((b=r((g=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,t(r,"hitsRequired",b,o(r)),t(r,"revealDuration",y,o(r)),t(r,"score",B,o(r)),t(r,"weight",w,o(r)),t(r,"placeholderColor",m,o(r)),r}return i(r,e),r.prototype.processHit=function(e){return e>=this.hitsRequired?{killed:!0,score:this.score,gameOver:!1}:{killed:!1,score:0,gameOver:!1}},r}(u)).prototype,"hitsRequired",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),y=r(g.prototype,"revealDuration",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),B=r(g.prototype,"score",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),w=r(g.prototype,"weight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),m=r(g.prototype,"placeholderColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(120,50,80,255)}}),f=g))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIAnimations.ts",["cc","./GameTypes.ts"],(function(t){var o,n,e,a,i,c,r;return{setters:[function(t){o=t.cclegacy,n=t.Tween,e=t.tween,a=t.Vec3,i=t.UIOpacity,c=t.Color},function(t){r=t.EconomyConfig}],execute:function(){o._RF.push({},"8036cfYch5F6KFRH5o4sZRb","UIAnimations",void 0);t("UIAnimations",function(){function t(){}return t.animateNumber=function(t,o,a,i,c){void 0===c&&(c=function(t){return String(Math.round(t))}),n.stopAllByTarget(t);var r={value:o};e(r).to(i,{value:a},{easing:"cubicOut"}).call((function(){t.string=c(a)})).start(),e(t).to(i,{},{onUpdate:function(){t.string=c(r.value)}}).start()},t.punchScale=function(t){var o=r.COIN_PUNCH_SCALE,i=r.COIN_PUNCH_DURATION;n.stopAllByTarget(t),t.setScale(1,1,1),e(t).to(.4*i,{scale:new a(o,o,1)}).to(.6*i,{scale:new a(1,1,1)}).start()},t.shakeNode=function(t){var o=r.COIN_SHAKE_INTENSITY,i=r.COIN_SHAKE_DURATION/6,c=t.position.clone();n.stopAllByTarget(t),e(t).to(i,{position:new a(c.x+o,c.y,c.z)}).to(i,{position:new a(c.x-o,c.y,c.z)}).to(i,{position:new a(c.x+.6*o,c.y,c.z)}).to(i,{position:new a(c.x-.6*o,c.y,c.z)}).to(i,{position:new a(c.x+.3*o,c.y,c.z)}).to(i,{position:new a(c.x,c.y,c.z)}).start()},t.fadeIn=function(t,o){var a;void 0===o&&(o=.3);var c=null!=(a=t.getComponent(i))?a:t.addComponent(i);n.stopAllByTarget(c),c.opacity=0,t.active=!0,e(c).to(o,{opacity:255}).start()},t.floatUpAndFade=function(t,o,c){var r;void 0===o&&(o=60),void 0===c&&(c=.8);var s=null!=(r=t.getComponent(i))?r:t.addComponent(i),l=t.position.clone();n.stopAllByTarget(t),n.stopAllByTarget(s),t.setPosition(l),t.setScale(.6,.6,1),s.opacity=255,t.active=!0,e(t).to(.15,{scale:new a(1.1,1.1,1)}).to(.1,{scale:new a(1,1,1)}).to(c-.25,{position:new a(l.x,l.y+o,l.z)}).call((function(){t.active=!1,t.setPosition(l)})).start(),e(s).delay(.5*c).to(.5*c,{opacity:0}).start()},t.colorFlash=function(t,o,n){void 0===o&&(o=new c(220,50,50,255)),void 0===n&&(n=.4);var a=t.color.clone();t.color=o;var i={r:o.r,g:o.g,b:o.b};e(i).to(n,{r:a.r,g:a.g,b:a.b},{easing:"cubicIn"}).call((function(){t.color=a})).start(),e(t).to(n,{},{onUpdate:function(){t.color=new c(Math.round(i.r),Math.round(i.g),Math.round(i.b),255)}}).start()},t.fadeOut=function(t,o,a){var c;void 0===o&&(o=.2);var r=null!=(c=t.getComponent(i))?c:t.addComponent(i);n.stopAllByTarget(r),e(r).to(o,{opacity:0}).call((function(){t.active=!1,null==a||a()})).start()},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/UIGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./EconomyManager.ts","./UIAnimations.ts"],(function(n){var e,t,i,o,r,a,l,c,s,u,p,f,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Label,c=n.Node,s=n.director,u=n.Component},function(n){p=n.EconomyConfig},function(n){f=n.EconomyManager},function(n){d=n.UIAnimations}],execute:function(){var b,m,v,h,y,g,L,C,I;r._RF.push({},"c5029AvSFdPGL2QmwbprjlJ","UIGameOver",void 0);var O=a.ccclass,U=a.property;n("UIGameOver",(b=O("UIGameOver"),m=U(l),v=U(l),h=U(c),b((L=e((g=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,i(e,"titleLabel",L,o(e)),i(e,"coinsEarnedLabel",C,o(e)),i(e,"panelRoot",I,o(e)),e}t(e,n);var r=e.prototype;return r.onLoad=function(){this.panelRoot.active=!1},r.show=function(n,e){var t,i,o=this;this.titleLabel.string=n;var r=null!=(t=null==(i=f.instance)?void 0:i.convertScoreToCoins(e))?t:0;this.coinsEarnedLabel.string="Coins: 0",d.fadeIn(this.panelRoot),this.scheduleOnce((function(){r>0?(d.animateNumber(o.coinsEarnedLabel,0,r,p.COIN_COUNT_DURATION,(function(n){return"Coins: "+Math.round(n)})),o.scheduleOnce((function(){var n;null==(n=f.instance)||n.addCoins(r)}),p.COIN_COUNT_DURATION)):o.coinsEarnedLabel.string="Coins: 0"}),.3)},r.onMainMenuClicked=function(){s.loadScene("MainMenu")},e}(u)).prototype,"titleLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(g.prototype,"coinsEarnedLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(g.prototype,"panelRoot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});