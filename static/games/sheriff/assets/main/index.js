System.register("chunks:///_virtual/AdService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./MockAdProvider.ts","./WebAdProvider.ts"],(function(e){var t,r,n,i,o,s,a,c,d,u,l,p,v,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass,s=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,d=e._decorator,u=e.Prefab,l=e.director,p=e.Component},function(e){v=e.AdConfig},function(e){f=e.MockAdProvider},function(e){h=e.WebAdProvider}],execute:function(){var _,w,m,k,y,b;c._RF.push({},"035faNh7tZKsokOQslRONzH","AdService",void 0);var P=d.ccclass,A=d.property;e("AdService",(_=P("AdService"),w=A({type:u,tooltip:"MockAdPanel prefab — fullscreen overlay for mock ads"}),_(((b=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"mockAdPrefab",y,i(t)),t._provider=void 0,t._mockProvider=void 0,t._lastInterstitialTimestamp=0,t._onlineHandler=void 0,t._offlineHandler=void 0,t}r(t,e);var c=t.prototype;return c.onLoad=function(){t._instance&&t._instance!==this?this.node.destroy():(t._instance=this,l.addPersistRootNode(this.node),this._mockProvider=new f(this.mockAdPrefab),this.selectProvider(),this.listenConnectivity(),this.initialize())},c.onDestroy=function(){t._instance===this&&(t._instance=null),"undefined"!=typeof window&&(window.removeEventListener("online",this._onlineHandler),window.removeEventListener("offline",this._offlineHandler))},c.initialize=function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._provider.initialize();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this._provider=this._mockProvider;case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),c.isRewardedAvailable=function(){return this._provider.isRewardedAvailable()},c.showRewarded=function(){var e=s(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._provider.showRewarded(t);case 3:if((r=e.sent).success||r.skipped){e.next=6;break}return e.abrupt("return",this._mockProvider.showRewarded(t));case 6:return e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",this._mockProvider.showRewarded(t));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),c.showInterstitial=function(){var e=s(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Date.now()-this._lastInterstitialTimestamp<v.INTERSTITIAL_COOLDOWN_MS)){e.next=3;break}return e.abrupt("return",{success:!1,skipped:!0});case 3:return e.prev=3,e.next=6,this._provider.showInterstitial(t);case 6:return(r=e.sent).success&&(this._lastInterstitialTimestamp=Date.now()),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(3),e.next=15,this._mockProvider.showInterstitial(t);case 15:return(n=e.sent).success&&(this._lastInterstitialTimestamp=Date.now()),e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),c.selectProvider=function(){this._provider=this._mockProvider},c.listenConnectivity=function(){var e=this;"undefined"!=typeof window&&(this._onlineHandler=function(){e._provider=new h,e.initialize()},this._offlineHandler=function(){e._provider=e._mockProvider},window.addEventListener("online",this._onlineHandler),window.addEventListener("offline",this._offlineHandler))},o(t,null,[{key:"instance",get:function(){return t._instance}}]),t}(p))._instance=null,y=t((k=b).prototype,"mockAdPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=k))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/AdTypes.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"3cf61vkVEZBAJzBfA0P//9G","AdTypes",void 0);e("RewardedPlacement",function(e){return e.SHOP_BROKE="shop_broke",e.DOUBLE_REWARD="double_reward",e.RESPAWN="respawn",e}({})),e("InterstitialPlacement",function(e){return e.ENDGAME_EXIT="endgame_exit",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/BehaviorLibrary.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var t,r,a,i,o,n;return{setters:[function(e){t=e.inheritsLoose,r=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,i=e._decorator,o=e.Component},function(e){n=e.CardBehaviorBase}],execute:function(){var h;a._RF.push({},"e1f13J3wZdPj5pas+x//Gmi","BehaviorLibrary",void 0);var s=i.ccclass;e("BehaviorLibrary",s("BehaviorLibrary")(h=function(e){function a(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this)._templates=new Map,t._behaviors=[],t._drawTable=[],t._totalWeight=0,t}t(a,e);var i=a.prototype;return i.onLoad=function(){for(var e,t=r(this.node.children);!(e=t()).done;){var a=e.value,i=a.getComponent(n);i&&(this._templates.set(i.id(),a),this._behaviors.push({template:a,behavior:i}))}},i.buildDrawTable=function(e){this._drawTable=[],this._totalWeight=0;for(var t,a=r(this._behaviors);!(t=a()).done;){var i=t.value,o=i.template,n=i.behavior.getWeight(e);n<=0||(this._drawTable.push({template:o,weight:n}),this._totalWeight+=n)}},i.getTemplate=function(e){var t=this._templates.get(e);if(!t)throw new Error('BehaviorLibrary: unknown behavior "'+e+'"');return t},i.pickRandomTemplate=function(){for(var e,t=Math.random()*this._totalWeight,a=r(this._drawTable);!(e=a()).done;){var i=e.value;if((t-=i.weight)<=0)return i.template}return this._drawTable[this._drawTable.length-1].template},a}(o))||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/BoardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./Card.ts","./GameManager.ts"],(function(a){var n,e,t,r,i,o,s,c,p,l,d,u,f;return{setters:[function(a){n=a.applyDecoratedDescriptor,e=a.inheritsLoose,t=a.initializerDefineProperty,r=a.assertThisInitialized},function(a){i=a.cclegacy,o=a._decorator,s=a.Prefab,c=a.instantiate,p=a.Component},function(a){l=a.CardState,d=a.GameConfig},function(a){u=a.Card},function(a){f=a.GameManager}],execute:function(){var h,g,m,v,_,b,w,C,M;i._RF.push({},"61eb3i3A8xPmLWMph0vqBPp","BoardManager",void 0);var y=o.ccclass,P=o.property;a("BoardManager",(h=y("BoardManager"),g=P(f),m=P({type:s,tooltip:"Card prefab (must have a Card component on root)"}),v=P({tooltip:"Seconds between flip waves"}),h((w=n((b=function(a){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n=a.call.apply(a,[this].concat(i))||this,t(n,"gameManager",w,r(n)),t(n,"cardPrefab",C,r(n)),t(n,"spawnInterval",M,r(n)),n._cards=[],n._spawnTimer=0,n._spawning=!1,n._ctx=void 0,n}e(n,a);var i=n.prototype;return i.onLoad=function(){this._ctx=this.gameManager,this.buildGrid()},i.update=function(a){this._spawning&&(this._spawnTimer-=a,this._spawnTimer<=0&&(this._spawnTimer=this.spawnInterval,this.flipRandomCard()))},i.beginSpawning=function(){this._spawning=!0,this._spawnTimer=0},i.stopSpawning=function(){this._spawning=!1},i.buildGrid=function(){for(var a=0;a<9;a++){var n=c(this.cardPrefab);this.node.addChild(n);var e=n.getComponent(u);this._cards.push(e)}},i.flipRandomCard=function(){var a=this.pickHiddenCard();if(a){var n=this.gameManager.decideTemplate();a.reveal(n,this._ctx)}},i.forceReveal=function(a){var n=this.pickHiddenCard();n&&n.reveal(a,this._ctx)},i.pickHiddenCard=function(){var a=this._cards.filter((function(a){return a.cardState===l.Hidden}));return 0===a.length?null:a[Math.floor(Math.random()*a.length)]},n}(p)).prototype,"gameManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(b.prototype,"cardPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(b.prototype,"spawnInterval",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.SPAWN_INTERVAL}}),_=b))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./CardBehavior.ts"],(function(t){var e,i,a,r,o,n,s,c,h,l,d,u,p,v,f,_,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){n=t.cclegacy,s=t._decorator,c=t.Color,h=t.Sprite,l=t.SpriteFrame,d=t.instantiate,u=t.tween,p=t.Vec3,v=t.Component},function(t){f=t.CardState,_=t.GameConfig},function(t){b=t.CardBehaviorBase}],execute:function(){var y,S,m,F,C,g,H;n._RF.push({},"502b7lob4ZDWpq4eBJNRm7C","Card",void 0);var k=s.ccclass,w=s.property,B=new c(130,130,130,255);t("Card",(y=k("Card"),S=w(h),m=w({type:l,tooltip:"Card back art (hidden side). Leave empty for grey fallback."}),y((g=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,a(e,"face",g,r(e)),a(e,"backSprite",H,r(e)),e._cardState=f.Hidden,e._behavior=null,e._behaviorNode=null,e._autoHideTimer=0,e}i(e,t);var n=e.prototype;return n.onLoad=function(){this.setHidden()},n.update=function(t){this._cardState===f.Revealed&&(this._autoHideTimer-=t,this._autoHideTimer<=0&&this.hide())},n.reveal=function(t,e){this._cardState===f.Hidden&&(this._behaviorNode=d(t),this.node.addChild(this._behaviorNode),this._behavior=this._behaviorNode.getComponent(b),this._behavior.init(this,e),this._cardState=f.Flipping,this.playFlipIn())},n.hide=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1),this._cardState===f.Hidden||!e&&this._cardState===f.Flipping||(this._cardState=f.Flipping,this.playFlipOut(t))},n.onShot=function(){return!(this._cardState!==f.Revealed||!this._behavior)&&(this._behavior.onShot(),!0)},n.kill=function(){var t=this;this._cardState=f.Flipping,this.playPunchScale(),setTimeout((function(){t.hide(!1,!0)}),150)},n.resetAutoHide=function(){this._behavior&&(this._autoHideTimer=this._behavior.revealDuration)},n.playFlipIn=function(){var t=this,e=_.FLIP_DURATION;u(this.node).to(e,{scale:new p(0,1,1)}).call((function(){var e;t.applyFront(),null==(e=t._behavior)||e.onReveal()})).to(e,{scale:new p(1,1,1)}).call((function(){t._cardState=f.Revealed,t._autoHideTimer=t._behavior.revealDuration})).start()},n.playFlipOut=function(t){var e=this,i=_.FLIP_DURATION;u(this.node).to(i,{scale:new p(t?0:1,t?1:0,1)}).call((function(){e.applyBack(),e.destroyBehavior()})).to(i,{scale:new p(1,1,1)}).call((function(){e._cardState=f.Hidden})).start()},n.destroyBehavior=function(){this._behaviorNode&&(this._behaviorNode.destroy(),this._behaviorNode=null),this._behavior=null},n.playPunchScale=function(){u(this.node).to(.05,{scale:new p(1.2,1.2,1)}).to(.1,{scale:new p(1,1,1)}).start()},n.setHidden=function(){this._cardState=f.Hidden,this.destroyBehavior(),this.applyBack(),this.node.setScale(new p(1,1,1))},n.applyFront=function(){this._behavior&&(this._behavior.frontSprite&&(this.face.spriteFrame=this._behavior.frontSprite),this.face.color=this._behavior.placeholderColor)},n.applyBack=function(){this.backSprite?(this.face.spriteFrame=this.backSprite,this.face.color=c.WHITE):this.face.color=B},o(e,[{key:"cardState",get:function(){return this._cardState}},{key:"behavior",get:function(){return this._behavior}}]),e}(v)).prototype,"face",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(C.prototype,"backSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=C))||F));n._RF.pop()}}}));

System.register("chunks:///_virtual/CardBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,a,l,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.SpriteFrame,c=e.Widget,s=e.Component,u=e.Color}],execute:function(){var p,d,h,f,g,b,v,y,m,w,C,z,_,B,W;o._RF.push({},"a4885CxODlEJZsZ6f8r+Scj","CardBehavior",void 0);var D=a.ccclass,S=a.property;e("CardBehaviorBase",(p=D("CardBehaviorBase"),d=S({tooltip:"Seconds the card stays revealed before auto-hiding"}),h=S({tooltip:"Points awarded when this card is killed"}),f=S({type:[Number],tooltip:"Weight per games-played milestone. Index = game number, last value repeats for all subsequent games."}),g=S({tooltip:"Fallback tint when no front sprite is assigned"}),b=S({type:l,tooltip:"Front face art (revealed side). Leave empty for color fallback."}),v=S({type:c,tooltip:"Optional canvas for card specific information"}),p((w=t((m=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"revealDuration",w,n(t)),r(t,"score",C,n(t)),r(t,"weights",z,n(t)),r(t,"placeholderColor",_,n(t)),r(t,"frontSprite",B,n(t)),r(t,"childWidget",W,n(t)),t._card=void 0,t._ctx=void 0,t}i(t,e);var o=t.prototype;return o.init=function(e,t){this._card=e,this._ctx=t,this.childWidget&&(this.childWidget.target=e.node)},o.onReveal=function(){},o.getWeight=function(e){if(0===this.weights.length)return 0;var t=Math.min(e,this.weights.length-1);return this.weights[t]},o.id=function(){return this.node.name},t}(s)).prototype,"revealDuration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),C=t(m.prototype,"score",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=t(m.prototype,"weights",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[10]}}),_=t(m.prototype,"placeholderColor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(200,200,200,255)}}),B=t(m.prototype,"frontSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(m.prototype,"childWidget",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/CoinDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EconomyManager.ts","./UIAnimations.ts"],(function(n){var i,e,t,a,o,s,r,l,c,u,h;return{setters:[function(n){i=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){o=n.cclegacy,s=n._decorator,r=n.Label,l=n.Component},function(n){c=n.EconomyManager,u=n.EconomyEvent},function(n){h=n.UIAnimations}],execute:function(){var p,d,y,g,b,C,f;o._RF.push({},"ab501BcQ1BCQasvchCBQ4U0","CoinDisplay",void 0);var m=s.ccclass,v=s.property;n("CoinDisplay",(p=m("CoinDisplay"),d=v(r),y=v({tooltip:"Punch-scale the node on coin gain"}),p((C=i((b=function(n){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=n.call.apply(n,[this].concat(o))||this,t(i,"coinLabel",C,a(i)),t(i,"animateOnChange",f,a(i)),i._displayedValue=0,i}e(i,n);var o=i.prototype;return o.onEnable=function(){var n=c.instance;n&&(this._displayedValue=n.getCoins(),this.coinLabel.string=String(this._displayedValue),n.events.on(u.COINS_CHANGED,this.onCoinsChanged,this))},o.onDisable=function(){var n;null==(n=c.instance)||n.events.off(u.COINS_CHANGED,this.onCoinsChanged,this)},o.playReject=function(){h.shakeNode(this.node),h.colorFlash(this.coinLabel)},o.onCoinsChanged=function(n){var i=this._displayedValue;this._displayedValue=n,this.animateOnChange?n>i?(h.animateNumber(this.coinLabel,i,n,.4),h.punchScale(this.node)):n<i?(h.animateNumber(this.coinLabel,i,n,.3),h.shakeNode(this.node)):this.coinLabel.string=String(n):this.coinLabel.string=String(n)},i}(l)).prototype,"coinLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=i(b.prototype,"animateOnChange",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=b))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/CrosshairController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Card.ts","./GameManager.ts","./FeedbackManager.ts","./GameTypes.ts"],(function(e){var o,t,n,r,i,a,s,c,u,l,h,f,p,d,M,g,y,b,v,m;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,c=e.Camera,u=e.Node,l=e.Vec3,h=e.sys,f=e.Input,p=e.log,d=e.UITransform,M=e.tween,g=e.Component},function(e){y=e.Card},function(e){b=e.GameManager},function(e){v=e.FeedbackManager},function(e){m=e.GameState}],execute:function(){var S,T,_,C,w,D,E,P,z,L,O,U,A;a._RF.push({},"b76f9AEgwpNbJXy0CXcGBCm","CrosshairController",void 0);var I=s.ccclass,N=s.property;e("CrosshairController",(S=I("CrosshairController"),T=N(c),_=N(b),C=N(u),w=N(v),D=N(u),S((z=o((P=function(e){function o(){for(var o,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=e.call.apply(e,[this].concat(i))||this,n(o,"uiCamera",z,r(o)),n(o,"gameManager",L,r(o)),n(o,"boardNode",O,r(o)),n(o,"feedbackManager",U,r(o)),n(o,"crosshairVisual",A,r(o)),o._hasMouse=!1,o._lastScreenPos=new l,o._screenPosDirty=!1,o}t(o,e);var a=o.prototype;return a.onLoad=function(){this._hasMouse=!h.isMobile,this._hasMouse||(this.crosshairVisual.active=!1)},a.onEnable=function(){this._hasMouse?(this.node.on(f.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(f.EventType.MOUSE_DOWN,this.onMouseDown,this)):this.node.on(f.EventType.TOUCH_START,this.onTouchStart,this)},a.onDisable=function(){this._hasMouse?(this.node.off(f.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.off(f.EventType.MOUSE_DOWN,this.onMouseDown,this)):this.node.off(f.EventType.TOUCH_START,this.onTouchStart,this)},a.update=function(){this._screenPosDirty&&(this._screenPosDirty=!1,this.moveCrosshairToScreen(this._lastScreenPos.x,this._lastScreenPos.y))},a.onMouseMove=function(e){this._lastScreenPos.set(e.getLocationX(),e.getLocationY(),0),this._screenPosDirty=!0,p("mouse move",this._lastScreenPos)},a.onMouseDown=function(e){p("onMouseDown",e.getLocation()),this.shootAtScreen(e.getLocationX(),e.getLocationY())},a.onTouchStart=function(e){p("touch start",e.getLocation());var o=e.getLocation();this.shootAtScreen(o.x,o.y)},a.moveCrosshairToScreen=function(e,o){var t=this.screenToUIWorld(e,o);t?this.crosshairVisual.setWorldPosition(t):p("no screenToUIWorld result for",e,o)},a.shootAtScreen=function(e,o){if(this.gameManager.state===m.Playing){this.playShotAnimation();var t=this.screenToUIWorld(e,o);if(t){for(var n,r=i(this.boardNode.children);!(n=r()).done;){var a=n.value,s=a.getComponent(y);if(s){var c=a.getComponent(d);if(c){var u=c.convertToNodeSpaceAR(t),l=c.contentSize;if(Math.abs(u.x)<=l.width/2&&Math.abs(u.y)<=l.height/2)return this.feedbackManager.playMuzzleFlash(t),void s.onShot()}}}this.feedbackManager.playMuzzleFlash(t)}}},a.screenToUIWorld=function(e,o){if(!this.uiCamera)return null;var t=new l;return this.uiCamera.screenToWorld(new l(e,o,0),t),t},a.playShotAnimation=function(){this._hasMouse&&M(this.crosshairVisual).to(.04,{scale:new l(.8,.8,1)}).to(.08,{scale:new l(1,1,1)}).start()},o}(g)).prototype,"uiCamera",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=o(P.prototype,"gameManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=o(P.prototype,"boardNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(P.prototype,"feedbackManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=o(P.prototype,"crosshairVisual",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=P))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/EconomyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./SaveData.ts","./StoreManager.ts","./FakeStoreProvider.ts"],(function(t){var n,e,s,a,o,i,r,c,u,d,h,f,_,l,v;return{setters:[function(t){n=t.inheritsLoose,e=t.extends,s=t.createClass,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){i=t.cclegacy,r=t._decorator,c=t.EventTarget,u=t.director,d=t.sys,h=t.Component},function(t){f=t.EconomyConfig},function(t){_=t.DEFAULT_SAVE},function(t){l=t.StoreManager},function(t){v=t.FakeStoreProvider}],execute:function(){var p,y;i._RF.push({},"a5b88Ys1u9DEZK002o1ufIm","EconomyManager",void 0);var g=r.ccclass,E=t("EconomyEvent",{COINS_CHANGED:"coins-changed"});t("EconomyManager",g("EconomyManager")(((y=function(t){function i(){for(var n,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this).events=new c,n._data=e({},_),n.store=new l(new v),n}n(i,t);var r=i.prototype;return r.onLoad=function(){i._instance&&i._instance!==this?this.node.destroy():(i._instance=this,u.addPersistRootNode(this.node),this.load())},r.onDestroy=function(){i._instance===this&&(i._instance=null)},r.getCoins=function(){return this._data.coins},r.canAfford=function(t){return this._data.coins>=t},r.addCoins=function(t){this._data.coins+=t,this.save(),this.events.emit(E.COINS_CHANGED,this._data.coins)},r.spendCoins=function(t){return!!this.canAfford(t)&&(this._data.coins-=t,this.save(),this.events.emit(E.COINS_CHANGED,this._data.coins),!0)},r.convertScoreToCoins=function(t){return Math.floor(t*f.SCORE_TO_COINS_RATE)},r.purchaseProduct=function(){var t=a(o().mark((function t(n){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.store.purchase(n);case 2:return(e=t.sent).success&&this.addCoins(e.coins),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),r.recordGame=function(t,n){this._data.gamesPlayed++,this._data.totalScore+=t,n&&this._data.sheriffHits++,this.save()},r.load=function(){try{var t=d.localStorage.getItem(f.SAVE_KEY);if(!t)return void this.applyDefaults();var n=JSON.parse(t);if(!n.version||n.version<f.SAVE_VERSION)return this._data=e({},_,{coins:"number"==typeof n.coins?n.coins:_.coins}),void this.save();this._data=e({},_,n,{version:f.SAVE_VERSION})}catch(t){this.applyDefaults()}},r.save=function(){d.localStorage.setItem(f.SAVE_KEY,JSON.stringify(this._data))},r.applyDefaults=function(){this._data=e({},_),this.save()},s(i,[{key:"gamesPlayed",get:function(){return this._data.gamesPlayed}}],[{key:"instance",get:function(){return i._instance}}]),i}(h))._instance=null,p=y))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/FakeStoreProvider.ts",["cc","./GameTypes.ts"],(function(n){var i,o;return{setters:[function(n){i=n.cclegacy},function(n){o=n.EconomyConfig}],execute:function(){i._RF.push({},"e554e+bynZNdIZcVlymfI8h","FakeStoreProvider",void 0);var r=[{id:"coins_100",display_string:"100 Coins",coins:100},{id:"coins_500",display_string:"500 Coins",coins:500},{id:"coins_1500",display_string:"1500 Coins",coins:1500}];n("FakeStoreProvider",function(){function n(){}var i=n.prototype;return i.getProducts=function(){return r},i.purchase=function(n){return new Promise((function(i){var e=1e3*o.STORE_FAKE_DELAY;setTimeout((function(){var o=r.find((function(i){return i.id===n}));i(o?{success:!0,coins:o.coins}:{success:!1,error:"Unknown product: "+n})}),e)}))},n}());i._RF.pop()}}}));

System.register("chunks:///_virtual/FeedbackManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./SpriteEffect.ts"],(function(e){var t,i,o,r,a,n,s,l,u,h,p,c,f,b,z,P,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e._decorator,l=e.Prefab,u=e.Vec3,h=e.Sprite,p=e.Label,c=e.Tween,f=e.tween,b=e.instantiate,z=e.Component},function(e){P=e.GameConfig},function(e){g=e.SpriteEffect}],execute:function(){var d,v,y,m,S,k,_,F,w,B,R,A,O,M,E,T,C;n._RF.push({},"9b245tFN3VAdYZt+q+OYTmI","FeedbackManager",void 0);var H=s.ccclass,I=s.property;e("FeedbackManager",(d=H("FeedbackManager"),v=I({type:l,tooltip:"Hit burst prefab (needs SpriteEffect + Sprite)"}),y=I({type:l,tooltip:"Score pop prefab (needs SpriteEffect + Label)"}),m=I({type:l,tooltip:"Muzzle flash prefab (needs SpriteEffect + Sprite)"}),S=I({tooltip:"Node to shake on game-over (usually the Canvas)"}),k=I({tooltip:"Pool size for hit bursts"}),_=I({tooltip:"Pool size for score pops"}),F=I({tooltip:"Pool size for muzzle flashes"}),d((R=t((B=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,o(t,"hitBurstPrefab",R,r(t)),o(t,"scorePopPrefab",A,r(t)),o(t,"muzzleFlashPrefab",O,r(t)),o(t,"shakeRoot",M,r(t)),o(t,"hitBurstPoolSize",E,r(t)),o(t,"scorePopPoolSize",T,r(t)),o(t,"muzzleFlashPoolSize",C,r(t)),t._hitBursts=[],t._scorePops=[],t._muzzleFlashes=[],t._shakeOrigin=new u,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this._hitBursts=this.buildPool(this.hitBurstPrefab,this.hitBurstPoolSize),this._scorePops=this.buildPool(this.scorePopPrefab,this.scorePopPoolSize),this._muzzleFlashes=this.buildPool(this.muzzleFlashPrefab,this.muzzleFlashPoolSize),this.shakeRoot&&this._shakeOrigin.set(this.shakeRoot.position)},n.playHitBurst=function(e,t){var i=this.getAvailable(this._hitBursts);if(i){var o=i.node.getComponent(h);o&&(o.color=t),i.play(e)}},n.playScorePop=function(e,t){var i=this.getAvailable(this._scorePops);if(i){var o=i.node.getComponent(p);o&&(o.string="+"+t),i.play(e)}},n.playScreenShake=function(){if(this.shakeRoot){var e=P.SHAKE_INTENSITY,t=P.SHAKE_DURATION/6;c.stopAllByTarget(this.shakeRoot),this.shakeRoot.setPosition(this._shakeOrigin);for(var i=f(this.shakeRoot),o=0;o<6;o++){var r=2*(Math.random()-.5)*e,a=2*(Math.random()-.5)*e;i=i.to(t,{position:new u(this._shakeOrigin.x+r,this._shakeOrigin.y+a,this._shakeOrigin.z)})}i.to(t,{position:new u(this._shakeOrigin)}).start()}},n.playMuzzleFlash=function(e){var t=this.getAvailable(this._muzzleFlashes);t&&t.play(e)},n.buildPool=function(e,t){if(!e)return[];for(var i=[],o=0;o<t;o++){var r=b(e);this.node.addChild(r);var a=r.getComponent(g);r.active=!1,i.push(a)}return i},n.getAvailable=function(e){for(var t,i=a(e);!(t=i()).done;){var o=t.value;if(!o.node.active)return o}return null},t}(z)).prototype,"hitBurstPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(B.prototype,"scorePopPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(B.prototype,"muzzleFlashPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(B.prototype,"shakeRoot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(B.prototype,"hitBurstPoolSize",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),T=t(B.prototype,"scorePopPoolSize",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),C=t(B.prototype,"muzzleFlashPoolSize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),w=B))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./FeedbackManager.ts","./BehaviorLibrary.ts","./UIGameOver.ts","./EconomyManager.ts"],(function(e){var a,i,t,r,n,o,s,c,l,h,u,b,g,p,d,f;return{setters:[function(e){a=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,s=e._decorator,c=e.Label,l=e.Node,h=e.Component},function(e){u=e.GameState,b=e.GameConfig},function(e){g=e.FeedbackManager},function(e){p=e.BehaviorLibrary},function(e){d=e.UIGameOver},function(e){f=e.EconomyManager}],execute:function(){var m,_,y,v,L,M,w,G,R,S,k,T,N,P,z;o._RF.push({},"c6697gXHAFK0IJn5MztWhej","GameManager",void 0);var U=s.ccclass,O=s.property;e("GameManager",(m=U("GameManager"),_=O(c),y=O(c),v=O(l),L=O(g),M=O({type:l,tooltip:"Node with BehaviorLibrary component"}),w=O(d),m((S=a((R=function(e){function a(){for(var a,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return a=e.call.apply(e,[this].concat(n))||this,t(a,"scoreLabel",S,r(a)),t(a,"timerLabel",k,r(a)),t(a,"boardNode",T,r(a)),t(a,"feedbackManager",N,r(a)),t(a,"behaviorLibraryNode",P,r(a)),t(a,"uiGameOver",z,r(a)),a._state=u.Idle,a._score=0,a._timeRemaining=b.GAME_DURATION,a._boardManager=void 0,a._behaviorLibrary=void 0,a._hasUsedRespawn=!1,a}i(a,e);var o=a.prototype;return o.onLoad=function(){this._boardManager=this.boardNode.getComponent("BoardManager"),this._behaviorLibrary=this.behaviorLibraryNode.getComponent(p)},o.start=function(){this.startGame()},o.update=function(e){this._state===u.Playing&&(this._timeRemaining-=e,this._timeRemaining<=2.5&&this._boardManager.stopSpawning(),this._timeRemaining<=0&&(this._timeRemaining=0,this.onWin()),this.refreshTimerLabel())},o.startGame=function(){var e,a;this._state=u.Playing,this._score=0,this._timeRemaining=b.GAME_DURATION,this._hasUsedRespawn=!1;var i=null!=(e=null==(a=f.instance)?void 0:a.gamesPlayed)?e:0;this._behaviorLibrary.buildDrawTable(i),this.refreshScoreLabel(),this.refreshTimerLabel(),this._boardManager.beginSpawning()},o.decideTemplate=function(){return this._behaviorLibrary.pickRandomTemplate()},o.respawn=function(){this._hasUsedRespawn||(this._hasUsedRespawn=!0,this._state=u.Playing,this._boardManager.beginSpawning())},o.onWin=function(){var e;this._state===u.Playing&&(this._state=u.Win,null==(e=f.instance)||e.recordGame(this._score,!1),this.showEndSession(!0))},o.addScore=function(e,a){this._state===u.Playing&&(this._score+=e,this.refreshScoreLabel(),this.feedbackManager.playScorePop(a,e))},o.endGame=function(){var e;this._state===u.Playing&&(this._state=u.GameOver,null==(e=f.instance)||e.recordGame(this._score,!0),this.feedbackManager.playScreenShake(),this.showEndSession(!1))},o.forceReveal=function(e){var a=this._behaviorLibrary.getTemplate(e);this._boardManager.forceReveal(a)},o.playHitBurst=function(e,a){this.feedbackManager.playHitBurst(e,a)},o.showEndSession=function(e){var a=this;this._boardManager.stopSpawning();var i=!e&&!this._hasUsedRespawn;this.uiGameOver.show(e,this._score,i?function(){return a.respawn()}:void 0)},o.refreshScoreLabel=function(){this.scoreLabel.string="Score: "+this._score},o.refreshTimerLabel=function(){this.timerLabel.string=""+Math.ceil(this._timeRemaining)},n(a,[{key:"state",get:function(){return this._state}},{key:"score",get:function(){return this._score}}]),a}(h)).prototype,"scoreLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=a(R.prototype,"timerLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=a(R.prototype,"boardNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=a(R.prototype,"feedbackManager",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=a(R.prototype,"behaviorLibraryNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=a(R.prototype,"uiGameOver",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=R))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameTypes.ts",["cc"],(function(_){var e;return{setters:[function(_){e=_.cclegacy}],execute:function(){e._RF.push({},"880043813hLNrHYGST6pgzJ","GameTypes",void 0);_("GameState",function(_){return _.Idle="Idle",_.Playing="Playing",_.GameOver="GameOver",_.Win="Win",_}({})),_("CardState",function(_){return _.Hidden="Hidden",_.Flipping="Flipping",_.Revealed="Revealed",_}({})),_("GameConfig",{GAME_DURATION:30,GRID_COLS:3,GRID_ROWS:3,SPAWN_INTERVAL:.8,FLIP_DURATION:.15,HIT_BURST_DURATION:.3,SCORE_POP_DURATION:.6,SCORE_POP_RISE:80,SHAKE_DURATION:.3,SHAKE_INTENSITY:8,MUZZLE_FLASH_DURATION:.12}),_("EconomyConfig",{PLAY_COST:60,SCORE_TO_COINS_RATE:1.5,SAVE_KEY:"dss_save_v1",SAVE_VERSION:2,COIN_COUNT_DURATION:1.2,COIN_PUNCH_SCALE:1.35,COIN_PUNCH_DURATION:.18,COIN_SHAKE_DURATION:.15,COIN_SHAKE_INTENSITY:6,STORE_FAKE_DELAY:1}),_("AdConfig",{INTERSTITIAL_COOLDOWN_MS:4e4,MOCK_AD_DELAY_MIN:1e3,MOCK_AD_DELAY_MAX:1500,MOCK_AD_REDIRECT_URL:"https://thierryberger.com/games",MOCK_REWARDED_DURATION:10});e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AdService.ts","./AdTypes.ts","./MockAdPanel.ts","./MockAdProvider.ts","./WebAdProvider.ts","./GameTypes.ts","./EconomyManager.ts","./FakeStoreProvider.ts","./SaveData.ts","./StoreManager.ts","./BoardManager.ts","./Card.ts","./CrosshairController.ts","./FeedbackManager.ts","./GameManager.ts","./SpriteEffect.ts","./BehaviorLibrary.ts","./CardBehavior.ts","./OutlawBehavior.ts","./SheriffBehavior.ts","./SpawnBanditBehavior.ts","./ToughBanditBehavior.ts","./MainMenu.ts","./CoinDisplay.ts","./StorePanelController.ts","./UIAnimations.ts","./UIGameOver.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./EconomyManager.ts","./UIAnimations.ts","./StorePanelController.ts","./CoinDisplay.ts"],(function(n){var t,e,i,o,a,l,r,s,u,c,f,p,y,h,b,d,C;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,r=n.Button,s=n.Label,u=n.Node,c=n.director,f=n.Component},function(n){p=n.EconomyConfig},function(n){y=n.EconomyManager,h=n.EconomyEvent},function(n){b=n.UIAnimations},function(n){d=n.StorePanelController},function(n){C=n.CoinDisplay}],execute:function(){var B,v,m,L,I,g,_,O,P,S,D,M,w,A,k,z,E;a._RF.push({},"0b063WVL1NKnKPp23UoMYH2","MainMenu",void 0);var U=l.ccclass,G=l.property;n("MainMenu",(B=U("MainMenu"),v=G(r),m=G({type:s,tooltip:"Label on the play button — shows cost"}),L=G(r),I=G(d),g=G({type:u,tooltip:'Label node for "Insufficient coins" toast — floats up and fades'}),_=G(C),O=G({type:u,tooltip:"Full-screen overlay for scene transition fade"}),B((D=t((S=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return t=n.call.apply(n,[this].concat(a))||this,i(t,"playButton",D,o(t)),i(t,"playButtonLabel",M,o(t)),i(t,"buyCoinsButton",w,o(t)),i(t,"storePanel",A,o(t)),i(t,"insufficientCoinsLabel",k,o(t)),i(t,"coinDisplay",z,o(t)),i(t,"transitionOverlay",E,o(t)),t._inputBlocked=!1,t}e(t,n);var a=t.prototype;return a.start=function(){this.insufficientCoinsLabel.active=!1,this.transitionOverlay&&(this.transitionOverlay.active=!1)},a.onEnable=function(){var n;null==(n=y.instance)||n.events.on(h.COINS_CHANGED,this.refreshUI,this),this.refreshUI()},a.onDisable=function(){var n;null==(n=y.instance)||n.events.off(h.COINS_CHANGED,this.refreshUI,this)},a.onPlayClicked=function(){var n=this;if(!this._inputBlocked){var t=y.instance;t?t.canAfford(p.PLAY_COST)?(this._inputBlocked=!0,this.setButtonsInteractable(!1),t.spendCoins(p.PLAY_COST),this.scheduleOnce((function(){n.transitionOverlay?(b.fadeIn(n.transitionOverlay,.3),n.scheduleOnce((function(){c.loadScene("Game")}),.3)):c.loadScene("Game")}),.5)):this.playInsufficientSequence():c.loadScene("Game")}},a.onBuyCoinsClicked=function(){this._inputBlocked||this.storePanel.show()},a.playInsufficientSequence=function(){var n=this;this._inputBlocked=!0,this.setButtonsInteractable(!1),this.insufficientCoinsLabel&&b.floatUpAndFade(this.insufficientCoinsLabel,60,.8),this.coinDisplay&&this.coinDisplay.playReject(),this.storePanel.show(),this.scheduleOnce((function(){n._inputBlocked=!1,n.setButtonsInteractable(!0)}),.6)},a.refreshUI=function(){y.instance&&this.playButtonLabel&&(this.playButtonLabel.string="Play ("+p.PLAY_COST+")")},a.setButtonsInteractable=function(n){this.playButton&&(this.playButton.interactable=n),this.buyCoinsButton&&(this.buyCoinsButton.interactable=n)},t}(f)).prototype,"playButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(S.prototype,"playButtonLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(S.prototype,"buyCoinsButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(S.prototype,"storePanel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(S.prototype,"insufficientCoinsLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(S.prototype,"coinDisplay",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(S.prototype,"transitionOverlay",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=S))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/MockAdPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts"],(function(e){var t,i,n,r,o,s,l,a,c,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,l=e.Label,a=e.Node,c=e.Button,u=e.Component},function(e){d=e.AdConfig}],execute:function(){var h,p,_,f,v,w,b,m,k;o._RF.push({},"e88c00sPGlPpY9dl+48WwNv","MockAdPanel",void 0);var y=s.ccclass,R=s.property;e("MockAdPanel",(h=y("MockAdPanel"),p=R(l),_=R(a),f=R(a),h((b=t((w=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"timerLabel",b,r(t)),n(t,"closeButton",m,r(t)),n(t,"visitButton",k,r(t)),t._resolve=null,t._isRewarded=!1,t._elapsed=0,t._duration=0,t._rewardUnlocked=!1,t}i(t,e);var o=t.prototype;return o.onLoad=function(){var e,t;null==(e=this.closeButton.getComponent(c))||e.node.on("click",this.onClose,this),null==(t=this.visitButton.getComponent(c))||t.node.on("click",this.onVisit,this)},o.update=function(e){if(this._isRewarded&&!this._rewardUnlocked){this._elapsed+=e;var t=Math.max(0,this._duration-this._elapsed);this.timerLabel.string=Math.ceil(t)+"s",t<=0&&(this._rewardUnlocked=!0,this.timerLabel.string="Reward ready!")}},o.showRewarded=function(){var e=this;return this._isRewarded=!0,this._duration=d.MOCK_REWARDED_DURATION,this._elapsed=0,this._rewardUnlocked=!1,this.timerLabel&&(this.timerLabel.node.active=!0,this.timerLabel.string=this._duration+"s"),new Promise((function(t){e._resolve=t}))},o.showInterstitial=function(){var e=this;return this._isRewarded=!1,this.timerLabel&&(this.timerLabel.node.active=!1),new Promise((function(t){e._resolve=t}))},o.onClose=function(){this._resolve&&(this._isRewarded?this._resolve({success:this._rewardUnlocked,skipped:!this._rewardUnlocked}):this._resolve({success:!0,skipped:!1}),this._resolve=null,this.node.destroy())},o.onVisit=function(){var e=d.MOCK_AD_REDIRECT_URL;if(e)try{window.open(e,"_blank")}catch(e){}},t}(u)).prototype,"timerLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(w.prototype,"closeButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(w.prototype,"visitButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/MockAdProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MockAdPanel.ts"],(function(r){var e,n,t,a,i,s;return{setters:[function(r){e=r.asyncToGenerator,n=r.regeneratorRuntime},function(r){t=r.cclegacy,a=r.instantiate,i=r.director},function(r){s=r.MockAdPanel}],execute:function(){t._RF.push({},"ae2cfLFoeRP66Pxe6X/vZM/","MockAdProvider",void 0);r("MockAdProvider",function(){function r(r){this._prefab=null,this._prefab=null!=r?r:null}var t=r.prototype;return t.setPrefab=function(r){this._prefab=r},t.initialize=function(){var r=e(n().mark((function r(){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),t.isRewardedAvailable=function(){return!!this._prefab},t.showRewarded=function(){var r=e(n().mark((function r(e){var t;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=this.spawnPanel()){r.next=3;break}return r.abrupt("return",{success:!1,skipped:!1,error:"Mock ad prefab not assigned"});case 3:return r.abrupt("return",t.showRewarded());case 4:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),t.showInterstitial=function(){var r=e(n().mark((function r(e){var t;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=this.spawnPanel()){r.next=3;break}return r.abrupt("return",{success:!1,skipped:!1,error:"Mock ad prefab not assigned"});case 3:return r.abrupt("return",t.showInterstitial());case 4:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),t.spawnPanel=function(){var r;if(!this._prefab)return null;var e=a(this._prefab),n=i.getScene();return n?((null!=(r=n.getChildByName("Canvas"))?r:n).addChild(e),e.getComponent(s)):(e.destroy(),null)},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/OutlawBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var r,t,i,o,a,n,l,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,l=e.Color},function(e){c=e.CardBehaviorBase}],execute:function(){var u,s,p,h,d,v,f,b,w,y,g;a._RF.push({},"d3b791PmwhPQJ87cWJr51JC","OutlawBehavior",void 0);var B=n.ccclass,_=n.property;e("OutlawBehavior",(u=B("OutlawBehavior"),s=_({override:!0}),p=_({override:!0}),h=_({override:!0}),d=_({override:!0}),u((b=r((f=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return r=e.call.apply(e,[this].concat(a))||this,i(r,"revealDuration",b,o(r)),i(r,"score",w,o(r)),i(r,"weights",y,o(r)),i(r,"placeholderColor",g,o(r)),r}return t(r,e),r.prototype.onShot=function(){var e=this._card.node.getWorldPosition();this._ctx.addScore(this.score,e),this._ctx.playHitBurst(e,this.placeholderColor),this._card.kill()},r}(c)).prototype,"revealDuration",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),w=r(f.prototype,"score",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=r(f.prototype,"weights",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[55,55,50,45]}}),g=r(f.prototype,"placeholderColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(200,50,50,255)}}),v=f))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/SaveData.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"21c1bT14S5DXZtrzYOCdQ9Q","SaveData",void 0);e("DEFAULT_SAVE",{version:2,coins:100,gamesPlayed:0,totalScore:0,sheriffHits:0});t._RF.pop()}}}));

System.register("chunks:///_virtual/SheriffBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var r,i,t,o,n,a,l,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Color},function(e){c=e.CardBehaviorBase}],execute:function(){var u,s,h,p,f,d,v,b,y,g,B;n._RF.push({},"a313aBL7u5GWYNm2zqb7OuQ","SheriffBehavior",void 0);var w=a.ccclass,_=a.property;e("SheriffBehavior",(u=w("SheriffBehavior"),s=_({override:!0}),h=_({override:!0}),p=_({override:!0}),f=_({override:!0}),u((b=r((v=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,t(r,"revealDuration",b,o(r)),t(r,"score",y,o(r)),t(r,"weights",g,o(r)),t(r,"placeholderColor",B,o(r)),r}return i(r,e),r.prototype.onShot=function(){this._ctx.playHitBurst(this._card.node.getWorldPosition(),this.placeholderColor),this._card.kill(),this._ctx.endGame()},r}(c)).prototype,"revealDuration",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),y=r(v.prototype,"score",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=r(v.prototype,"weights",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[10,12,15,18]}}),B=r(v.prototype,"placeholderColor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(50,100,220,255)}}),d=v))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpawnBanditBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var r,t,i,o,a,n,l,c,s,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,l=e._decorator,c=e.CCString,s=e.Color},function(e){u=e.CardBehaviorBase}],execute:function(){var p,h,d,f,v,w,b,y,B,g,_,z,C;n._RF.push({},"5535340dsRGGqh2IeHt+tzd","SpawnBanditBehavior",void 0);var S=l.ccclass,m=l.property;e("SpawnBanditBehavior",(p=S("SpawnBanditBehavior"),h=m({override:!0}),d=m({override:!0}),f=m({override:!0}),v=m({override:!0}),w=m({type:[c],tooltip:"Behavior IDs to spawn on kill"}),p((B=r((y=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return r=e.call.apply(e,[this].concat(a))||this,i(r,"revealDuration",B,o(r)),i(r,"score",g,o(r)),i(r,"weights",_,o(r)),i(r,"placeholderColor",z,o(r)),i(r,"spawns",C,o(r)),r}return t(r,e),r.prototype.onShot=function(){var e=this._card.node.getWorldPosition();this._ctx.addScore(this.score,e),this._ctx.playHitBurst(e,this.placeholderColor);for(var r,t=a(this.spawns);!(r=t()).done;){var i=r.value;this._ctx.forceReveal(i)}this._card.kill()},r}(u)).prototype,"revealDuration",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),g=r(y.prototype,"score",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=r(y.prototype,"weights",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,5,10,15]}}),z=r(y.prototype,"placeholderColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(220,120,30,255)}}),C=r(y.prototype,"spawns",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["outlaw","sheriff"]}}),b=y))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,n,r,a,s,l,c,p,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Vec3,l=t.UIOpacity,c=t.Tween,p=t.tween,u=t.Component}],execute:function(){var h,d,f,y,m,g,v,b,_,w,T;r._RF.push({},"b8dcdgldUpAdZ4gciZFTYDr","SpriteEffect",void 0);var F=a.ccclass,z=a.property;t("SpriteEffect",(h=F("SpriteEffect"),d=z({tooltip:"Total effect duration (seconds)"}),f=z({tooltip:"Start scale multiplier"}),y=z({tooltip:"End scale multiplier"}),m=z({tooltip:"Pixels to float upward (0 = no movement)"}),h((b=i((v=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,o(i,"duration",b,n(i)),o(i,"scaleFrom",_,n(i)),o(i,"scaleTo",w,n(i)),o(i,"riseY",T,n(i)),i.onFinished=null,i._opacity=null,i._originPos=new s,i}e(i,t);var r=i.prototype;return r.onLoad=function(){var t;this._opacity=null!=(t=this.getComponent(l))?t:this.node.addComponent(l),this.node.active=!1},r.play=function(t){var i=this;if(c.stopAllByTarget(this.node),this._opacity&&c.stopAllByTarget(this._opacity),this.node.setWorldPosition(t),this._originPos.set(t),this.node.setScale(new s(this.scaleFrom,this.scaleFrom,1)),this._opacity&&(this._opacity.opacity=255),this.node.active=!0,p(this.node).to(this.duration,{scale:new s(this.scaleTo,this.scaleTo,1)}).start(),this.riseY>0){var e=new s(t.x,t.y+this.riseY,t.z);p(this.node).to(this.duration,{worldPosition:e}).start()}this._opacity&&p(this._opacity).to(this.duration,{opacity:0}).call((function(){return i.finish()})).start()},r.finish=function(){var t;this.node.active=!1,null==(t=this.onFinished)||t.call(this)},i}(u)).prototype,"duration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),_=i(v.prototype,"scaleFrom",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),w=i(v.prototype,"scaleTo",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),T=i(v.prototype,"riseY",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/StoreManager.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"324ddzC3zRImoRUw6zkixzg","StoreManager",void 0);r("StoreManager",function(){function r(r){this._provider=void 0,this._provider=r}var t=r.prototype;return t.getProducts=function(){return this._provider.getProducts()},t.purchase=function(r){return this._provider.purchase(r)},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/StorePanelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./EconomyManager.ts","./UIAnimations.ts","./AdService.ts","./AdTypes.ts"],(function(t){var e,n,o,i,r,a,c,s,l,u,d,h,p,f,v,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,c=t._decorator,s=t.Button,l=t.Label,u=t.Node,d=t.Component},function(t){h=t.EconomyConfig},function(t){p=t.EconomyManager},function(t){f=t.UIAnimations},function(t){v=t.AdService},function(t){b=t.RewardedPlacement}],execute:function(){var y,g,B,A,w,m,I,C,P,O,R,_,L;a._RF.push({},"d7333k5r2NPaY494cV3FRne","StorePanelController",void 0);var S=c.ccclass,k=c.property;t("StorePanelController",(y=S("StorePanelController"),g=k([s]),B=k([l]),A=k(u),w=k(u),m=k({type:u,tooltip:'"Watch Ad" button — grants play-cost coins via rewarded ad'}),y((P=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"productButtons",P,i(e)),o(e,"productLabels",O,i(e)),o(e,"loadingOverlay",R,i(e)),o(e,"panelRoot",_,i(e)),o(e,"watchAdButton",L,i(e)),e._productIds=[],e}n(e,t);var a=e.prototype;return a.start=function(){var t=p.instance;if(t){for(var e,n=t.store.getProducts(),o=0;o<n.length&&o<this.productButtons.length;o++)this._productIds[o]=n[o].id,this.productLabels[o]&&(this.productLabels[o].string=n[o].display_string);if(this.loadingOverlay&&(this.loadingOverlay.active=!1),this.panelRoot&&(this.panelRoot.active=!1),this.watchAdButton)null==(e=this.watchAdButton.getComponent(s))||e.node.on("click",this.onWatchAdClicked,this)}},a.show=function(){this.refreshWatchAdButton(),f.fadeIn(this.panelRoot)},a.hide=function(){f.fadeOut(this.panelRoot)},a.onProductClicked=function(t,e){var n=this,o=parseInt(e,10),i=p.instance;!i||isNaN(o)||o>=this._productIds.length||(this.setButtonsInteractable(!1),this.loadingOverlay&&(this.loadingOverlay.active=!0),i.purchaseProduct(this._productIds[o]).then((function(t){n.loadingOverlay&&(n.loadingOverlay.active=!1),n.setButtonsInteractable(!0),t.success||console.warn("Purchase failed:",t.error)})))},a.onCloseClicked=function(){this.hide()},a.onWatchAdClicked=function(){var t=this,e=v.instance;e&&(this.setButtonsInteractable(!1),this.watchAdButton&&(this.watchAdButton.active=!1),e.showRewarded(b.SHOP_BROKE).then((function(e){var n;e.success&&(null==(n=p.instance)||n.addCoins(h.PLAY_COST));t.setButtonsInteractable(!0),t.refreshWatchAdButton()})))},a.refreshWatchAdButton=function(){var t;if(this.watchAdButton){var e=p.instance;this.watchAdButton.active=!!e&&!(null==(t=v.instance)||!t.isRewardedAvailable())}},a.setButtonsInteractable=function(t){for(var e,n=r(this.productButtons);!(e=n()).done;){e.value.interactable=t}},e}(d)).prototype,"productButtons",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(C.prototype,"productLabels",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(C.prototype,"loadingOverlay",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(C.prototype,"panelRoot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(C.prototype,"watchAdButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=C))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/ToughBanditBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var t,r,i,o,a,n,s,l,c,h,u,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose,n=e.createClass},function(e){s=e.cclegacy,l=e._decorator,c=e.Node,h=e.Vec3,u=e.tween,d=e.Color},function(e){p=e.CardBehaviorBase}],execute:function(){var v,f,g,y,b,_,w,B,m,k,T,H,C;s._RF.push({},"0a7c4VUgktCQoHYIvkHU8SI","ToughBanditBehavior",void 0);var z=l.ccclass,R=l.property;e("ToughBanditBehavior",(v=z("ToughBanditBehavior"),f=R({override:!0}),g=R({override:!0}),y=R({override:!0}),b=R({override:!0}),_=R({type:[c],tooltip:"Heart child nodes — one removed per hit"}),v((m=t((B=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,i(t,"revealDuration",m,o(t)),i(t,"score",k,o(t)),i(t,"weights",T,o(t)),i(t,"placeholderColor",H,o(t)),i(t,"hearts",C,o(t)),t._hitsTaken=0,t}r(t,e);var s=t.prototype;return s.start=function(){for(var e,t=a(this.hearts);!(e=t()).done;){e.value.active=!1}},s.onReveal=function(){this._hitsTaken=0;for(var e,t=a(this.hearts);!(e=t()).done;){var r=e.value;r.active=!0,r.setScale(new h(1,1,1))}},s.onShot=function(){this._ctx.playHitBurst(this._card.node.getWorldPosition(),this.placeholderColor),this._hitsTaken++;var e=this.hearts.length-this._hitsTaken;e>=0&&this.animateHeartRemoval(this.hearts[e]),this._hitsTaken>=this.hitsRequired?(this._ctx.addScore(this.score,this._card.node.getWorldPosition()),this._card.kill()):(this._card.playPunchScale(),this._card.resetAutoHide())},s.animateHeartRemoval=function(e){u(e).to(.1,{scale:new h(1.3,1.3,1)}).to(.15,{scale:new h(0,0,1)}).call((function(){e.active=!1})).start()},n(t,[{key:"hitsRequired",get:function(){return this.hearts.length}}]),t}(p)).prototype,"revealDuration",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),k=t(B.prototype,"score",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),T=t(B.prototype,"weights",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,0,10,15]}}),H=t(B.prototype,"placeholderColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(120,50,80,255)}}),C=t(B.prototype,"hearts",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=B))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIAnimations.ts",["cc","./GameTypes.ts"],(function(t){var o,n,e,a,i,c,r;return{setters:[function(t){o=t.cclegacy,n=t.Tween,e=t.tween,a=t.Vec3,i=t.UIOpacity,c=t.Color},function(t){r=t.EconomyConfig}],execute:function(){o._RF.push({},"8036cfYch5F6KFRH5o4sZRb","UIAnimations",void 0);t("UIAnimations",function(){function t(){}return t.animateNumber=function(t,o,a,i,c){void 0===c&&(c=function(t){return String(Math.round(t))}),n.stopAllByTarget(t);var r={value:o};e(r).to(i,{value:a},{easing:"cubicOut"}).call((function(){t.string=c(a)})).start(),e(t).to(i,{},{onUpdate:function(){t.string=c(r.value)}}).start()},t.punchScale=function(t){var o=r.COIN_PUNCH_SCALE,i=r.COIN_PUNCH_DURATION;n.stopAllByTarget(t),t.setScale(1,1,1),e(t).to(.4*i,{scale:new a(o,o,1)}).to(.6*i,{scale:new a(1,1,1)}).start()},t.shakeNode=function(t){var o=r.COIN_SHAKE_INTENSITY,i=r.COIN_SHAKE_DURATION/6,c=t.position.clone();n.stopAllByTarget(t),e(t).to(i,{position:new a(c.x+o,c.y,c.z)}).to(i,{position:new a(c.x-o,c.y,c.z)}).to(i,{position:new a(c.x+.6*o,c.y,c.z)}).to(i,{position:new a(c.x-.6*o,c.y,c.z)}).to(i,{position:new a(c.x+.3*o,c.y,c.z)}).to(i,{position:new a(c.x,c.y,c.z)}).start()},t.fadeIn=function(t,o){var a;void 0===o&&(o=.3);var c=null!=(a=t.getComponent(i))?a:t.addComponent(i);n.stopAllByTarget(c),c.opacity=0,t.active=!0,e(c).to(o,{opacity:255}).start()},t.floatUpAndFade=function(t,o,c){var r;void 0===o&&(o=60),void 0===c&&(c=.8);var s=null!=(r=t.getComponent(i))?r:t.addComponent(i),l=t.position.clone();n.stopAllByTarget(t),n.stopAllByTarget(s),t.setPosition(l),t.setScale(.6,.6,1),s.opacity=255,t.active=!0,e(t).to(.15,{scale:new a(1.1,1.1,1)}).to(.1,{scale:new a(1,1,1)}).to(c-.25,{position:new a(l.x,l.y+o,l.z)}).call((function(){t.active=!1,t.setPosition(l)})).start(),e(s).delay(.5*c).to(.5*c,{opacity:0}).start()},t.colorFlash=function(t,o,n){void 0===o&&(o=new c(220,50,50,255)),void 0===n&&(n=.4);var a=t.color.clone();t.color=o;var i={r:o.r,g:o.g,b:o.b};e(i).to(n,{r:a.r,g:a.g,b:a.b},{easing:"cubicIn"}).call((function(){t.color=a})).start(),e(t).to(n,{},{onUpdate:function(){t.color=new c(Math.round(i.r),Math.round(i.g),Math.round(i.b),255)}}).start()},t.fadeOut=function(t,o,a){var c;void 0===o&&(o=.2);var r=null!=(c=t.getComponent(i))?c:t.addComponent(i);n.stopAllByTarget(r),e(r).to(o,{opacity:0}).call((function(){t.active=!1,null==a||a()})).start()},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/UIGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./EconomyManager.ts","./UIAnimations.ts","./AdService.ts","./AdTypes.ts"],(function(n){var e,t,i,o,a,r,s,l,u,c,d,p,h,b,w,f,v;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.Label,l=n.Node,u=n.Button,c=n.director,d=n.Component},function(n){p=n.EconomyConfig},function(n){h=n.EconomyManager},function(n){b=n.UIAnimations},function(n){w=n.AdService},function(n){f=n.RewardedPlacement,v=n.InterstitialPlacement}],execute:function(){var R,_,m,A,B,g,E,y,C,O,I,N,D,U,L,k,T;a._RF.push({},"c5029AvSFdPGL2QmwbprjlJ","UIGameOver",void 0);var M=r.ccclass,z=r.property;n("UIGameOver",(R=M("UIGameOver"),_=z(s),m=z(s),A=z(l),B=z({type:l,tooltip:'"Double Reward" button — shown once per game'}),g=z({type:l,tooltip:'"Respawn" button — shown once per game on game over'}),E=z(l),y=z(l),R((I=e((O=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"titleLabel",I,o(e)),i(e,"coinsEarnedLabel",N,o(e)),i(e,"panelRoot",D,o(e)),i(e,"doubleRewardButton",U,o(e)),i(e,"respawnAdButton",L,o(e)),i(e,"sheriffHitBackground",k,o(e)),i(e,"victoryBackground",T,o(e)),e._coinsEarned=0,e._hasDoubled=!1,e._onRespawn=null,e}t(e,n);var a=e.prototype;return a.onLoad=function(){var n,e;(this.panelRoot.active=!1,this.doubleRewardButton)&&(null==(n=this.doubleRewardButton.getComponent(u))||n.node.on("click",this.onDoubleRewardClicked,this));this.respawnAdButton&&(null==(e=this.respawnAdButton.getComponent(u))||e.node.on("click",this.onRespawnAdClicked,this))},a.show=function(n,e,t){var i,o,a,r,s=this;(this.titleLabel.string=n?"YOU WIN!":"GAME OVER",this.sheriffHitBackground.active=!n,this.victoryBackground.active=n,this._coinsEarned=null!=(i=null==(o=h.instance)?void 0:o.convertScoreToCoins(e))?i:0,this._hasDoubled=!1,this._onRespawn=null!=t?t:null,this.coinsEarnedLabel.string="Coins: 0",this.doubleRewardButton)&&(this.doubleRewardButton.active=this._coinsEarned>0&&!(null==(a=w.instance)||!a.isRewardedAvailable()));this.respawnAdButton&&(this.respawnAdButton.active=!!this._onRespawn&&!(null==(r=w.instance)||!r.isRewardedAvailable()));b.fadeIn(this.panelRoot),this.scheduleOnce((function(){s._coinsEarned>0?(b.animateNumber(s.coinsEarnedLabel,0,s._coinsEarned,p.COIN_COUNT_DURATION,(function(n){return"Coins: "+Math.round(n)})),s.scheduleOnce((function(){var n;null==(n=h.instance)||n.addCoins(s._coinsEarned)}),p.COIN_COUNT_DURATION)):s.coinsEarnedLabel.string="Coins: 0"}),.3)},a.onRespawnAdClicked=function(){var n=this;if(this._onRespawn){var e=this._onRespawn;this._onRespawn=null,this.respawnAdButton&&(this.respawnAdButton.active=!1);var t=w.instance;t&&t.showRewarded(f.RESPAWN).then((function(t){t.success?(n.panelRoot.active=!1,e()):n.respawnAdButton&&(n.respawnAdButton.active=!0)}))}},a.onDoubleRewardClicked=function(){var n=this;if(!this._hasDoubled){var e=w.instance;e&&(this.doubleRewardButton&&(this.doubleRewardButton.active=!1),e.showRewarded(f.DOUBLE_REWARD).then((function(e){if(e.success){var t=n._coinsEarned;n._coinsEarned+=t,n._hasDoubled=!0,b.animateNumber(n.coinsEarnedLabel,n._coinsEarned-t,n._coinsEarned,p.COIN_COUNT_DURATION,(function(n){return"Coins: "+Math.round(n)})),n.scheduleOnce((function(){var n;null==(n=h.instance)||n.addCoins(t)}),p.COIN_COUNT_DURATION)}else n.doubleRewardButton&&(n.doubleRewardButton.active=!0)})))}},a.onMainMenuClicked=function(){var n;null==(n=w.instance)||n.showInterstitial(v.ENDGAME_EXIT),c.loadScene("MainMenu")},e}(d)).prototype,"titleLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(O.prototype,"coinsEarnedLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(O.prototype,"panelRoot",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(O.prototype,"doubleRewardButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(O.prototype,"respawnAdButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(O.prototype,"sheriffHitBackground",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(O.prototype,"victoryBackground",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=O))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/WebAdProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,n,t;return{setters:[function(r){e=r.asyncToGenerator,n=r.regeneratorRuntime},function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"a68659zBhZHHb359JUad48o","WebAdProvider",void 0);r("WebAdProvider",function(){function r(){}var t=r.prototype;return t.initialize=function(){var r=e(n().mark((function r(){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),t.isRewardedAvailable=function(){return!1},t.showRewarded=function(){var r=e(n().mark((function r(e){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{success:!1,skipped:!1,error:"No web ad provider configured"});case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),t.showInterstitial=function(){var r=e(n().mark((function r(e){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{success:!1,skipped:!1,error:"No web ad provider configured"});case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),r}());t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});