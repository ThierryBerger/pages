System.register("chunks:///_virtual/BehaviorLibrary.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(r){var e,a,t,o,i,n;return{setters:[function(r){e=r.inheritsLoose,a=r.createForOfIteratorHelperLoose},function(r){t=r.cclegacy,o=r._decorator,i=r.Component},function(r){n=r.CardBehaviorBase}],execute:function(){var h;t._RF.push({},"e1f13J3wZdPj5pas+x//Gmi","BehaviorLibrary",void 0);var s=o.ccclass;r("BehaviorLibrary",s("BehaviorLibrary")(h=function(r){function t(){for(var e,a=arguments.length,t=new Array(a),o=0;o<a;o++)t[o]=arguments[o];return(e=r.call.apply(r,[this].concat(t))||this)._behaviors=new Map,e._drawTable=[],e._totalWeight=0,e}e(t,r);var o=t.prototype;return o.onLoad=function(){for(var r,e=a(this.node.children);!(r=e()).done;){var t=r.value.getComponent(n);t&&(this._behaviors.set(t.id(),t),this._drawTable.push({behavior:t,weight:t.weight}),this._totalWeight+=t.weight)}},o.getBehavior=function(r){var e=this._behaviors.get(r);if(!e)throw new Error('BehaviorLibrary: unknown behavior "'+r+'"');return e},o.pickRandomBehavior=function(){for(var r,e=Math.random()*this._totalWeight,t=a(this._drawTable);!(r=t()).done;){var o=r.value;if((e-=o.weight)<=0)return o.behavior}return this._drawTable[this._drawTable.length-1].behavior},t}(i))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/BoardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./Card.ts","./GameManager.ts"],(function(n){var a,e,r,t,i,o,s,c,p,l,d,u,f;return{setters:[function(n){a=n.applyDecoratedDescriptor,e=n.inheritsLoose,r=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){i=n.cclegacy,o=n._decorator,s=n.Prefab,c=n.instantiate,p=n.Component},function(n){l=n.CardState,d=n.GameConfig},function(n){u=n.Card},function(n){f=n.GameManager}],execute:function(){var h,g,m,v,b,w,_,C,y;i._RF.push({},"61eb3i3A8xPmLWMph0vqBPp","BoardManager",void 0);var M=o.ccclass,P=o.property;n("BoardManager",(h=M("BoardManager"),g=P(f),m=P({type:s,tooltip:"Card prefab (must have a Card component on root)"}),v=P({tooltip:"Seconds between flip waves"}),h((_=a((w=function(n){function a(){for(var a,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return a=n.call.apply(n,[this].concat(i))||this,r(a,"gameManager",_,t(a)),r(a,"cardPrefab",C,t(a)),r(a,"spawnInterval",y,t(a)),a._cards=[],a._spawnTimer=0,a._spawning=!1,a}e(a,n);var i=a.prototype;return i.onLoad=function(){this.buildGrid()},i.update=function(n){this._spawning&&(this._spawnTimer-=n,this._spawnTimer<=0&&(this._spawnTimer=this.spawnInterval,this.flipRandomCard()))},i.beginSpawning=function(){this._spawning=!0,this._spawnTimer=0},i.stopSpawning=function(){this._spawning=!1},i.buildGrid=function(){for(var n=0;n<9;n++){var a=c(this.cardPrefab);this.node.addChild(a);var e=a.getComponent(u);this._cards.push(e)}},i.flipRandomCard=function(){var n=this.pickHiddenCard();if(n){var a=this.gameManager.decideBehavior();n.reveal(a)}},i.forceReveal=function(n){var a=this.pickHiddenCard();a&&a.reveal(n)},i.pickHiddenCard=function(){var n=this._cards.filter((function(n){return n.cardState===l.Hidden}));return 0===n.length?null:n[Math.floor(Math.random()*n.length)]},a}(p)).prototype,"gameManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=a(w.prototype,"cardPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=a(w.prototype,"spawnInterval",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.SPAWN_INTERVAL}}),b=w))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts"],(function(t){var e,i,a,r,n,o,c,l,s,h,u,p,d,f,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,c=t._decorator,l=t.Color,s=t.Sprite,h=t.SpriteFrame,u=t.tween,p=t.Vec3,d=t.Component},function(t){f=t.CardState,_=t.GameConfig}],execute:function(){var v,b,y,S,m,H,C;o._RF.push({},"502b7lob4ZDWpq4eBJNRm7C","Card",void 0);var F=c.ccclass,w=c.property,g=new l(130,130,130,255);t("Card",(v=F("Card"),b=w(s),y=w({type:h,tooltip:"Card back art (hidden side). Leave empty for grey fallback."}),v((H=e((m=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(e,"face",H,r(e)),a(e,"backSprite",C,r(e)),e._cardState=f.Hidden,e._behavior=null,e._hitCount=0,e._autoHideTimer=0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.setHidden()},o.update=function(t){this._cardState===f.Revealed&&(this._autoHideTimer-=t,this._autoHideTimer<=0&&this.hide())},o.reveal=function(t){this._cardState===f.Hidden&&(this._behavior=t,this._hitCount=0,this._cardState=f.Flipping,this.playFlipIn())},o.hide=function(){this._cardState!==f.Hidden&&this._cardState!==f.Flipping&&(this._cardState=f.Flipping,this.playFlipOut())},o.onShot=function(){if(this._cardState!==f.Revealed||!this._behavior)return null;this._hitCount++;var t=this._behavior.processHit(this._hitCount);return t.killed?(this.playPunchScale(),this.hide()):(this.playIntermediateHit(),this._autoHideTimer=this._behavior.revealDuration),t},o.playFlipIn=function(){var t=this,e=_.FLIP_DURATION;u(this.node).to(e,{scale:new p(0,1,1)}).call((function(){t.applyFront()})).to(e,{scale:new p(1,1,1)}).call((function(){t._cardState=f.Revealed,t._autoHideTimer=t._behavior.revealDuration})).start()},o.playFlipOut=function(){var t=this,e=_.FLIP_DURATION;u(this.node).to(e,{scale:new p(0,1,1)}).call((function(){t.applyBack()})).to(e,{scale:new p(1,1,1)}).call((function(){t._cardState=f.Hidden,t._behavior=null})).start()},o.playPunchScale=function(){u(this.node).to(.05,{scale:new p(1.15,1.15,1)}).to(.1,{scale:new p(1,1,1)}).start()},o.playIntermediateHit=function(){u(this.node).to(.03,{scale:new p(1.08,1.08,1)}).to(.06,{scale:new p(1,1,1)}).start()},o.setHidden=function(){this._cardState=f.Hidden,this._behavior=null,this.applyBack(),this.node.setScale(new p(1,1,1))},o.applyFront=function(){this._behavior&&(this._behavior.frontSprite&&(this.face.spriteFrame=this._behavior.frontSprite),this.face.color=this._behavior.placeholderColor)},o.applyBack=function(){this.backSprite?(this.face.spriteFrame=this.backSprite,this.face.color=l.WHITE):this.face.color=g},n(e,[{key:"cardState",get:function(){return this._cardState}},{key:"behavior",get:function(){return this._behavior}}]),e}(d)).prototype,"face",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(m.prototype,"backSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=m))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/CardBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,o,n,a,l,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Color,c=e.SpriteFrame,u=e.Component}],execute:function(){var p,s,f,h,d,b,y,g,w,v,m,C,z,B,D;n._RF.push({},"a4885CxODlEJZsZ6f8r+Scj","CardBehavior",void 0);var k=a.ccclass,S=a.property;e("CardBehaviorBase",(p=k("CardBehaviorBase"),s=S({tooltip:"How many hits to kill this card"}),f=S({tooltip:"Seconds the card stays revealed before auto-hiding"}),h=S({tooltip:"Points awarded when this card is killed"}),d=S({tooltip:"Draw weight â€” higher = more likely to appear"}),b=S({type:l,tooltip:"Fallback tint when no front sprite is assigned"}),y=S({type:c,tooltip:"Front face art (revealed side). Leave empty for color fallback."}),p((v=r((w=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"hitsRequired",v,o(r)),i(r,"revealDuration",m,o(r)),i(r,"score",C,o(r)),i(r,"weight",z,o(r)),i(r,"placeholderColor",B,o(r)),i(r,"frontSprite",D,o(r)),r}return t(r,e),r.prototype.id=function(){return this.node.name},r}(u)).prototype,"hitsRequired",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=r(w.prototype,"revealDuration",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),C=r(w.prototype,"score",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=r(w.prototype,"weight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),B=r(w.prototype,"placeholderColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(200,200,200,255)}}),D=r(w.prototype,"frontSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=w))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/CrosshairController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Card.ts","./GameManager.ts","./FeedbackManager.ts","./GameTypes.ts"],(function(e){var o,t,n,r,i,a,s,c,l,u,h,f,p,d,M,g,v,y,b,m;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,c=e.Camera,l=e.Node,u=e.Vec3,h=e.sys,f=e.Input,p=e.log,d=e.UITransform,M=e.tween,g=e.Component},function(e){v=e.Card},function(e){y=e.GameManager},function(e){b=e.FeedbackManager},function(e){m=e.GameState}],execute:function(){var S,C,T,_,w,D,E,P,z,L,O,U,A;a._RF.push({},"b76f9AEgwpNbJXy0CXcGBCm","CrosshairController",void 0);var W=s.ccclass,I=s.property;e("CrosshairController",(S=W("CrosshairController"),C=I(c),T=I(y),_=I(l),w=I(b),D=I(l),S((z=o((P=function(e){function o(){for(var o,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=e.call.apply(e,[this].concat(i))||this,n(o,"uiCamera",z,r(o)),n(o,"gameManager",L,r(o)),n(o,"boardNode",O,r(o)),n(o,"feedbackManager",U,r(o)),n(o,"crosshairVisual",A,r(o)),o._hasMouse=!1,o._lastScreenPos=new u,o._screenPosDirty=!1,o}t(o,e);var a=o.prototype;return a.onLoad=function(){this._hasMouse=!h.isMobile,this._hasMouse||(this.crosshairVisual.active=!1)},a.onEnable=function(){this._hasMouse?(this.node.on(f.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(f.EventType.MOUSE_DOWN,this.onMouseDown,this)):this.node.on(f.EventType.TOUCH_START,this.onTouchStart,this)},a.onDisable=function(){this._hasMouse?(this.node.off(f.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.off(f.EventType.MOUSE_DOWN,this.onMouseDown,this)):this.node.off(f.EventType.TOUCH_START,this.onTouchStart,this)},a.update=function(){this._screenPosDirty&&(this._screenPosDirty=!1,this.moveCrosshairToScreen(this._lastScreenPos.x,this._lastScreenPos.y))},a.onMouseMove=function(e){this._lastScreenPos.set(e.getLocationX(),e.getLocationY(),0),this._screenPosDirty=!0,p("mouse move",this._lastScreenPos)},a.onMouseDown=function(e){p("onMouseDown",e.getLocation()),this.shootAtScreen(e.getLocationX(),e.getLocationY())},a.onTouchStart=function(e){p("touch start",e.getLocation());var o=e.getLocation();this.shootAtScreen(o.x,o.y)},a.moveCrosshairToScreen=function(e,o){var t=this.screenToUIWorld(e,o);t?this.crosshairVisual.setWorldPosition(t):p("no screenToUIWorld result for",e,o)},a.shootAtScreen=function(e,o){if(this.gameManager.state===m.Playing){this.playShotAnimation();var t=this.screenToUIWorld(e,o);if(t){for(var n,r=i(this.boardNode.children);!(n=r()).done;){var a=n.value,s=a.getComponent(v);if(s){var c=a.getComponent(d);if(c){var l=c.convertToNodeSpaceAR(t),u=c.contentSize;if(Math.abs(l.x)<=u.width/2&&Math.abs(l.y)<=u.height/2){var h,f=null==(h=s.behavior)?void 0:h.placeholderColor,p=s.onShot();if(this.feedbackManager.playMuzzleFlash(t),null!==p&&f){var M=a.getWorldPosition();this.gameManager.handleCardShot(p,f,M)}return}}}}this.feedbackManager.playMuzzleFlash(t)}}},a.screenToUIWorld=function(e,o){if(!this.uiCamera)return null;var t=new u;return this.uiCamera.screenToWorld(new u(e,o,0),t),t},a.playShotAnimation=function(){this._hasMouse&&M(this.crosshairVisual).to(.04,{scale:new u(.8,.8,1)}).to(.08,{scale:new u(1,1,1)}).start()},o}(g)).prototype,"uiCamera",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=o(P.prototype,"gameManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=o(P.prototype,"boardNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(P.prototype,"feedbackManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=o(P.prototype,"crosshairVisual",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=P))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/FeedbackManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./SpriteEffect.ts"],(function(e){var t,i,o,r,a,n,s,l,u,h,p,c,f,b,z,P,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e._decorator,l=e.Prefab,u=e.Vec3,h=e.Sprite,p=e.Label,c=e.Tween,f=e.tween,b=e.instantiate,z=e.Component},function(e){P=e.GameConfig},function(e){g=e.SpriteEffect}],execute:function(){var d,v,y,m,S,k,_,F,w,B,R,A,O,M,E,T,C;n._RF.push({},"9b245tFN3VAdYZt+q+OYTmI","FeedbackManager",void 0);var H=s.ccclass,I=s.property;e("FeedbackManager",(d=H("FeedbackManager"),v=I({type:l,tooltip:"Hit burst prefab (needs SpriteEffect + Sprite)"}),y=I({type:l,tooltip:"Score pop prefab (needs SpriteEffect + Label)"}),m=I({type:l,tooltip:"Muzzle flash prefab (needs SpriteEffect + Sprite)"}),S=I({tooltip:"Node to shake on game-over (usually the Canvas)"}),k=I({tooltip:"Pool size for hit bursts"}),_=I({tooltip:"Pool size for score pops"}),F=I({tooltip:"Pool size for muzzle flashes"}),d((R=t((B=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,o(t,"hitBurstPrefab",R,r(t)),o(t,"scorePopPrefab",A,r(t)),o(t,"muzzleFlashPrefab",O,r(t)),o(t,"shakeRoot",M,r(t)),o(t,"hitBurstPoolSize",E,r(t)),o(t,"scorePopPoolSize",T,r(t)),o(t,"muzzleFlashPoolSize",C,r(t)),t._hitBursts=[],t._scorePops=[],t._muzzleFlashes=[],t._shakeOrigin=new u,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this._hitBursts=this.buildPool(this.hitBurstPrefab,this.hitBurstPoolSize),this._scorePops=this.buildPool(this.scorePopPrefab,this.scorePopPoolSize),this._muzzleFlashes=this.buildPool(this.muzzleFlashPrefab,this.muzzleFlashPoolSize),this.shakeRoot&&this._shakeOrigin.set(this.shakeRoot.position)},n.playHitBurst=function(e,t){var i=this.getAvailable(this._hitBursts);if(i){var o=i.node.getComponent(h);o&&(o.color=t),i.play(e)}},n.playScorePop=function(e,t){var i=this.getAvailable(this._scorePops);if(i){var o=i.node.getComponent(p);o&&(o.string="+"+t),i.play(e)}},n.playScreenShake=function(){if(this.shakeRoot){var e=P.SHAKE_INTENSITY,t=P.SHAKE_DURATION/6;c.stopAllByTarget(this.shakeRoot),this.shakeRoot.setPosition(this._shakeOrigin);for(var i=f(this.shakeRoot),o=0;o<6;o++){var r=2*(Math.random()-.5)*e,a=2*(Math.random()-.5)*e;i=i.to(t,{position:new u(this._shakeOrigin.x+r,this._shakeOrigin.y+a,this._shakeOrigin.z)})}i.to(t,{position:new u(this._shakeOrigin)}).start()}},n.playMuzzleFlash=function(e){var t=this.getAvailable(this._muzzleFlashes);t&&t.play(e)},n.buildPool=function(e,t){if(!e)return[];for(var i=[],o=0;o<t;o++){var r=b(e);this.node.addChild(r);var a=r.getComponent(g);r.active=!1,i.push(a)}return i},n.getAvailable=function(e){for(var t,i=a(e);!(t=i()).done;){var o=t.value;if(!o.node.active)return o}return null},t}(z)).prototype,"hitBurstPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(B.prototype,"scorePopPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(B.prototype,"muzzleFlashPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(B.prototype,"shakeRoot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(B.prototype,"hitBurstPoolSize",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),T=t(B.prototype,"scorePopPoolSize",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),C=t(B.prototype,"muzzleFlashPoolSize",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),w=B))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypes.ts","./FeedbackManager.ts","./BehaviorLibrary.ts"],(function(e){var t,i,a,r,n,o,s,l,c,h,u,b,g,f,m,d,p,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose,o=e.createClass},function(e){s=e.cclegacy,l=e._decorator,c=e.Label,h=e.Node,u=e.director,b=e.UIOpacity,g=e.tween,f=e.Component},function(e){m=e.GameState,d=e.GameConfig},function(e){p=e.FeedbackManager},function(e){v=e.BehaviorLibrary}],execute:function(){var y,_,L,M,S,O,P,k,w,G,R,N,z,C,T,B,I;s._RF.push({},"c6697gXHAFK0IJn5MztWhej","GameManager",void 0);var A=l.ccclass,F=l.property;e("GameManager",(y=A("GameManager"),_=F(c),L=F(c),M=F(h),S=F(c),O=F(h),P=F(p),k=F({type:h,tooltip:"Node with BehaviorLibrary component"}),y((R=t((G=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"scoreLabel",R,r(t)),a(t,"timerLabel",N,r(t)),a(t,"gameOverPanel",z,r(t)),a(t,"gameOverTitle",C,r(t)),a(t,"boardNode",T,r(t)),a(t,"feedbackManager",B,r(t)),a(t,"behaviorLibraryNode",I,r(t)),t._state=m.Idle,t._score=0,t._timeRemaining=d.GAME_DURATION,t._boardManager=void 0,t._behaviorLibrary=void 0,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this._boardManager=this.boardNode.getComponent("BoardManager"),this._behaviorLibrary=this.behaviorLibraryNode.getComponent(v),this.gameOverPanel.active=!1},s.start=function(){this.startGame()},s.update=function(e){this._state===m.Playing&&(this._timeRemaining-=e,this._timeRemaining<=0&&(this._timeRemaining=0,this.onWin()),this.refreshTimerLabel())},s.startGame=function(){this._state=m.Playing,this._score=0,this._timeRemaining=d.GAME_DURATION,this.refreshScoreLabel(),this.refreshTimerLabel(),this.gameOverPanel.active=!1,this._boardManager.beginSpawning()},s.addScore=function(e,t){this._state===m.Playing&&(this._score+=e,this.refreshScoreLabel(),this.feedbackManager.playScorePop(t,e))},s.onSheriffShot=function(){this._state===m.Playing&&(this._state=m.GameOver,this.feedbackManager.playScreenShake(),this.endSession("GAME OVER"))},s.decideBehavior=function(){return this._behaviorLibrary.pickRandomBehavior()},s.handleCardShot=function(e,t,i){if(this._state===m.Playing){if(0!==e.score&&this.addScore(e.score,i),this.feedbackManager.playHitBurst(i,t),e.spawns)for(var a,r=n(e.spawns);!(a=r()).done;){var o=a.value,s=this._behaviorLibrary.getBehavior(o);this._boardManager.forceReveal(s)}e.gameOver&&this.onSheriffShot()}},s.onWin=function(){this._state===m.Playing&&(this._state=m.Win,this.endSession("YOU WIN!"))},s.onRestartClicked=function(){u.loadScene("Game")},s.onMainMenuClicked=function(){u.loadScene("MainMenu")},s.endSession=function(e){var t;this._boardManager.stopSpawning(),this.gameOverTitle.string=e,this.gameOverPanel.active=!0;var i=null!=(t=this.gameOverPanel.getComponent(b))?t:this.gameOverPanel.addComponent(b);i.opacity=0,g(i).to(.3,{opacity:255}).start()},s.refreshScoreLabel=function(){this.scoreLabel.string="Score: "+this._score},s.refreshTimerLabel=function(){this.timerLabel.string=""+Math.ceil(this._timeRemaining)},o(t,[{key:"state",get:function(){return this._state}},{key:"score",get:function(){return this._score}}]),t}(f)).prototype,"scoreLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(G.prototype,"timerLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(G.prototype,"gameOverPanel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(G.prototype,"gameOverTitle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(G.prototype,"boardNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(G.prototype,"feedbackManager",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(G.prototype,"behaviorLibraryNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=G))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameTypes.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"880043813hLNrHYGST6pgzJ","GameTypes",void 0);e("GameState",function(e){return e.Idle="Idle",e.Playing="Playing",e.GameOver="GameOver",e.Win="Win",e}({})),e("CardState",function(e){return e.Hidden="Hidden",e.Flipping="Flipping",e.Revealed="Revealed",e}({})),e("GameConfig",{GAME_DURATION:30,GRID_COLS:3,GRID_ROWS:3,SPAWN_INTERVAL:.8,FLIP_DURATION:.15,HIT_BURST_DURATION:.3,SCORE_POP_DURATION:.6,SCORE_POP_RISE:80,SHAKE_DURATION:.3,SHAKE_INTENSITY:8,MUZZLE_FLASH_DURATION:.12});n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./GameTypes.ts","./BoardManager.ts","./Card.ts","./CrosshairController.ts","./FeedbackManager.ts","./GameManager.ts","./SpriteEffect.ts","./BehaviorLibrary.ts","./CardBehavior.ts","./OutlawBehavior.ts","./SheriffBehavior.ts","./SpawnBanditBehavior.ts","./ToughBanditBehavior.ts","./MainMenu.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,o,c,i;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,c=n.director,i=n.Component}],execute:function(){var r;t._RF.push({},"0b063WVL1NKnKPp23UoMYH2","MainMenu",void 0);var u=o.ccclass;n("MainMenu",u("MainMenu")(r=function(n){function t(){return n.apply(this,arguments)||this}return e(t,n),t.prototype.onPlayClicked=function(){c.loadScene("Game")},t}(i))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/OutlawBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var r,i,t,o,n,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Color},function(e){u=e.CardBehaviorBase}],execute:function(){var c,s,p,h,f,b,v;n._RF.push({},"d3b791PmwhPQJ87cWJr51JC","OutlawBehavior",void 0);var w=a.ccclass,d=a.property;e("OutlawBehavior",w("OutlawBehavior")((p=r((s=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,t(r,"hitsRequired",p,o(r)),t(r,"revealDuration",h,o(r)),t(r,"score",f,o(r)),t(r,"weight",b,o(r)),t(r,"placeholderColor",v,o(r)),r}return i(r,e),r.prototype.processHit=function(e){return{killed:!0,score:this.score,gameOver:!1}},r}(u)).prototype,"hitsRequired",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),h=r(s.prototype,"revealDuration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),f=r(s.prototype,"score",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=r(s.prototype,"weight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 55}}),v=r(s.prototype,"placeholderColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(200,50,50,255)}}),c=s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SheriffBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var r,i,t,o,n,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Color},function(e){u=e.CardBehaviorBase}],execute:function(){var c,s,f,p,h,b,v;n._RF.push({},"a313aBL7u5GWYNm2zqb7OuQ","SheriffBehavior",void 0);var y=a.ccclass,d=a.property;e("SheriffBehavior",y("SheriffBehavior")((f=r((s=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,t(r,"hitsRequired",f,o(r)),t(r,"revealDuration",p,o(r)),t(r,"score",h,o(r)),t(r,"weight",b,o(r)),t(r,"placeholderColor",v,o(r)),r}return i(r,e),r.prototype.processHit=function(e){return{killed:!0,score:this.score,gameOver:!0}},r}(u)).prototype,"hitsRequired",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=r(s.prototype,"revealDuration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),h=r(s.prototype,"score",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=r(s.prototype,"weight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),v=r(s.prototype,"placeholderColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(50,100,220,255)}}),c=s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SpawnBanditBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var r,i,t,n,o,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Color},function(e){u=e.CardBehaviorBase}],execute:function(){var c,s,p,f,h,w,b,d,v,y;o._RF.push({},"5535340dsRGGqh2IeHt+tzd","SpawnBanditBehavior",void 0);var g=a.ccclass,B=a.property;e("SpawnBanditBehavior",(c=g("SpawnBanditBehavior"),s=B({type:[String],tooltip:"Behavior IDs to spawn on kill"}),c((h=r((f=function(e){function r(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,t(r,"hitsRequired",h,n(r)),t(r,"revealDuration",w,n(r)),t(r,"score",b,n(r)),t(r,"weight",d,n(r)),t(r,"placeholderColor",v,n(r)),t(r,"spawns",y,n(r)),r}return i(r,e),r.prototype.processHit=function(e){return{killed:!0,score:this.score,gameOver:!1,spawns:this.spawns}},r}(u)).prototype,"hitsRequired",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=r(f.prototype,"revealDuration",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),b=r(f.prototype,"score",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=r(f.prototype,"weight",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),v=r(f.prototype,"placeholderColor",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(220,120,30,255)}}),y=r(f.prototype,"spawns",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["outlaw","sheriff"]}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,n,r,a,s,l,c,p,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Vec3,l=t.UIOpacity,c=t.Tween,p=t.tween,u=t.Component}],execute:function(){var h,d,f,y,m,g,v,b,_,w,T;r._RF.push({},"b8dcdgldUpAdZ4gciZFTYDr","SpriteEffect",void 0);var F=a.ccclass,z=a.property;t("SpriteEffect",(h=F("SpriteEffect"),d=z({tooltip:"Total effect duration (seconds)"}),f=z({tooltip:"Start scale multiplier"}),y=z({tooltip:"End scale multiplier"}),m=z({tooltip:"Pixels to float upward (0 = no movement)"}),h((b=i((v=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,o(i,"duration",b,n(i)),o(i,"scaleFrom",_,n(i)),o(i,"scaleTo",w,n(i)),o(i,"riseY",T,n(i)),i.onFinished=null,i._opacity=null,i._originPos=new s,i}e(i,t);var r=i.prototype;return r.onLoad=function(){var t;this._opacity=null!=(t=this.getComponent(l))?t:this.node.addComponent(l),this.node.active=!1},r.play=function(t){var i=this;if(c.stopAllByTarget(this.node),this._opacity&&c.stopAllByTarget(this._opacity),this.node.setWorldPosition(t),this._originPos.set(t),this.node.setScale(new s(this.scaleFrom,this.scaleFrom,1)),this._opacity&&(this._opacity.opacity=255),this.node.active=!0,p(this.node).to(this.duration,{scale:new s(this.scaleTo,this.scaleTo,1)}).start(),this.riseY>0){var e=new s(t.x,t.y+this.riseY,t.z);p(this.node).to(this.duration,{worldPosition:e}).start()}this._opacity&&p(this._opacity).to(this.duration,{opacity:0}).call((function(){return i.finish()})).start()},r.finish=function(){var t;this.node.active=!1,null==(t=this.onFinished)||t.call(this)},i}(u)).prototype,"duration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),_=i(v.prototype,"scaleFrom",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),w=i(v.prototype,"scaleTo",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),T=i(v.prototype,"riseY",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/ToughBanditBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBehavior.ts"],(function(e){var r,i,t,o,n,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Color},function(e){u=e.CardBehaviorBase}],execute:function(){var c,s,p,h,f,d,g;n._RF.push({},"0a7c4VUgktCQoHYIvkHU8SI","ToughBanditBehavior",void 0);var v=a.ccclass,b=a.property;e("ToughBanditBehavior",v("ToughBanditBehavior")((p=r((s=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,t(r,"hitsRequired",p,o(r)),t(r,"revealDuration",h,o(r)),t(r,"score",f,o(r)),t(r,"weight",d,o(r)),t(r,"placeholderColor",g,o(r)),r}return i(r,e),r.prototype.processHit=function(e){return e>=this.hitsRequired?{killed:!0,score:this.score,gameOver:!1}:{killed:!1,score:0,gameOver:!1}},r}(u)).prototype,"hitsRequired",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),h=r(s.prototype,"revealDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),f=r(s.prototype,"score",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),d=r(s.prototype,"weight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),g=r(s.prototype,"placeholderColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(120,50,80,255)}}),c=s))||c);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});